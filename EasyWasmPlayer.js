!function(A,M){"object"==typeof exports&&"object"==typeof module?module.exports=M():"function"==typeof define&&define.amd?define([],M):"object"==typeof exports?exports.WasmPlayer=M():A.WasmPlayer=M()}(this,(function(){return function(A){var M={};function t(g){if(M[g])return M[g].exports;var I=M[g]={i:g,l:!1,exports:{}};return A[g].call(I.exports,I,I.exports,t),I.l=!0,I.exports}return t.m=A,t.c=M,t.d=function(A,M,g){t.o(A,M)||Object.defineProperty(A,M,{enumerable:!0,get:g})},t.r=function(A){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})},t.t=function(A,M){if(1&M&&(A=t(A)),8&M)return A;if(4&M&&"object"==typeof A&&A&&A.__esModule)return A;var g=Object.create(null);if(t.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:A}),2&M&&"string"!=typeof A)for(var I in A)t.d(g,I,function(M){return A[M]}.bind(null,I));return g},t.n=function(A){var M=A&&A.__esModule?function(){return A.default}:function(){return A};return t.d(M,"a",M),M},t.o=function(A,M){return Object.prototype.hasOwnProperty.call(A,M)},t.p="",t(t.s=222)}([function(A,M,t){"use strict";t.d(M,"D",(function(){return g})),t.d(M,"B",(function(){return I})),t.d(M,"C",(function(){return e})),t.d(M,"u",(function(){return i})),t.d(M,"k",(function(){return T})),t.d(M,"o",(function(){return E})),t.d(M,"w",(function(){return N})),t.d(M,"t",(function(){return n})),t.d(M,"j",(function(){return D})),t.d(M,"q",(function(){return C})),t.d(M,"r",(function(){return r})),t.d(M,"l",(function(){return c})),t.d(M,"A",(function(){return o})),t.d(M,"v",(function(){return B})),t.d(M,"y",(function(){return Q})),t.d(M,"z",(function(){return a})),t.d(M,"s",(function(){return h})),t.d(M,"p",(function(){return s})),t.d(M,"n",(function(){return y})),t.d(M,"x",(function(){return w})),t.d(M,"m",(function(){return j})),t.d(M,"b",(function(){return L})),t.d(M,"a",(function(){return d})),t.d(M,"e",(function(){return x})),t.d(M,"h",(function(){return u})),t.d(M,"c",(function(){return S})),t.d(M,"g",(function(){return l})),t.d(M,"i",(function(){return z})),t.d(M,"d",(function(){return U})),t.d(M,"f",(function(){return f}));var g=1,I=2,e=3,i=1,T=2,E=3,N=4,n=6,D=7,C=10,r=11,c=12,o=13,B=14,Q=15,a=16,h=20,s=21,y=102,w=103,j=200,L=1,d=2,x=3,Y=!0;function u(A){Y=A}function S(){return Y}function l(A){A}function z(A){return new Promise((function(M){return setTimeout(M,A)}))}function U(A){var M,t=new Date,g=t.getFullYear(),I=t.getMonth()+1,e=t.getDate();t.getDay();M=g+"-"+I+"-"+e+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),console.log("["+M+"]:  "+A)}function f(){for(var A=window.location.href.split("/"),M="",t=0;t<3;t++)M+=A[t],M+="/";return M}},function(A,M,t){"use strict";var g=t(6),I=t.n(g),e=function(){function A(){}return A.e=function(M,t){M&&!A.FORCE_GLOBAL_TAG||(M=A.GLOBAL_TAG);var g="["+M+"] > "+t;A.ENABLE_CALLBACK&&A.emitter.emit("log","error",g),A.ENABLE_ERROR&&(console.error?console.error(g):console.warn?console.warn(g):console.log(g))},A.i=function(M,t){M&&!A.FORCE_GLOBAL_TAG||(M=A.GLOBAL_TAG);var g="["+M+"] > "+t;A.ENABLE_CALLBACK&&A.emitter.emit("log","info",g),A.ENABLE_INFO&&(console.info?console.info(g):console.log(g))},A.w=function(M,t){M&&!A.FORCE_GLOBAL_TAG||(M=A.GLOBAL_TAG);var g="["+M+"] > "+t;A.ENABLE_CALLBACK&&A.emitter.emit("log","warn",g),A.ENABLE_WARN&&(console.warn?console.warn(g):console.log(g))},A.d=function(M,t){M&&!A.FORCE_GLOBAL_TAG||(M=A.GLOBAL_TAG);var g="["+M+"] > "+t;A.ENABLE_CALLBACK&&A.emitter.emit("log","debug",g),A.ENABLE_DEBUG&&(console.debug?console.debug(g):console.log(g))},A.v=function(M,t){M&&!A.FORCE_GLOBAL_TAG||(M=A.GLOBAL_TAG);var g="["+M+"] > "+t;A.ENABLE_CALLBACK&&A.emitter.emit("log","verbose",g),A.ENABLE_VERBOSE&&console.log(g)},A}();e.GLOBAL_TAG="EasyPlayer.js",e.FORCE_GLOBAL_TAG=!1,e.ENABLE_ERROR=!0,e.ENABLE_INFO=!0,e.ENABLE_WARN=!0,e.ENABLE_DEBUG=!0,e.ENABLE_VERBOSE=!0,e.ENABLE_CALLBACK=!1,e.emitter=new I.a,M.a=e},function(A,M,t){"use strict";function g(A,M){A.prototype=Object.create(M.prototype),A.prototype.constructor=A,A.__proto__=M}function I(A,M){for(var t=0;t<M.length;t++){var g=M[t];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(A,g.key,g)}}function e(A,M,t){return M&&I(A.prototype,M),t&&I(A,t),A}t.d(M,"d",(function(){return i})),t.d(M,"a",(function(){return T})),t.d(M,"b",(function(){return E})),t.d(M,"c",(function(){return N}));var i=function(){function A(A){this._message=A}return A.prototype.toString=function(){return this.name+": "+this.message},e(A,[{key:"name",get:function(){return"RuntimeException"}},{key:"message",get:function(){return this._message}}]),A}(),T=function(A){function M(M){return A.call(this,M)||this}return g(M,A),e(M,[{key:"name",get:function(){return"IllegalStateException"}}]),M}(i),E=function(A){function M(M){return A.call(this,M)||this}return g(M,A),e(M,[{key:"name",get:function(){return"InvalidArgumentException"}}]),M}(i),N=function(A){function M(M){return A.call(this,M)||this}return g(M,A),e(M,[{key:"name",get:function(){return"NotImplementedException"}}]),M}(i)},function(A,M){"function"==typeof Object.create?A.exports=function(A,M){M&&(A.super_=M,A.prototype=Object.create(M.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}))}:A.exports=function(A,M){if(M){A.super_=M;var t=function(){};t.prototype=M.prototype,A.prototype=new t,A.prototype.constructor=A}}},function(A,M,t){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var g=t(9),I=g.Buffer;function e(A,M){for(var t in A)M[t]=A[t]}function i(A,M,t){return I(A,M,t)}I.from&&I.alloc&&I.allocUnsafe&&I.allocUnsafeSlow?A.exports=g:(e(g,M),M.Buffer=i),i.prototype=Object.create(I.prototype),e(I,i),i.from=function(A,M,t){if("number"==typeof A)throw new TypeError("Argument must not be a number");return I(A,M,t)},i.alloc=function(A,M,t){if("number"!=typeof A)throw new TypeError("Argument must be a number");var g=I(A);return void 0!==M?"string"==typeof t?g.fill(M,t):g.fill(M):g.fill(0),g},i.allocUnsafe=function(A){if("number"!=typeof A)throw new TypeError("Argument must be a number");return I(A)},i.allocUnsafeSlow=function(A){if("number"!=typeof A)throw new TypeError("Argument must be a number");return g.SlowBuffer(A)}},function(A,M,t){"use strict";M.a={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"}},function(A,M,t){"use strict";var g,I="object"==typeof Reflect?Reflect:null,e=I&&"function"==typeof I.apply?I.apply:function(A,M,t){return Function.prototype.apply.call(A,M,t)};g=I&&"function"==typeof I.ownKeys?I.ownKeys:Object.getOwnPropertySymbols?function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:function(A){return Object.getOwnPropertyNames(A)};var i=Number.isNaN||function(A){return A!=A};function T(){T.init.call(this)}A.exports=T,A.exports.once=function(A,M){return new Promise((function(t,g){function I(){void 0!==e&&A.removeListener("error",e),t([].slice.call(arguments))}var e;"error"!==M&&(e=function(t){A.removeListener(M,I),g(t)},A.once("error",e)),A.once(M,I)}))},T.EventEmitter=T,T.prototype._events=void 0,T.prototype._eventsCount=0,T.prototype._maxListeners=void 0;var E=10;function N(A){if("function"!=typeof A)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}function n(A){return void 0===A._maxListeners?T.defaultMaxListeners:A._maxListeners}function D(A,M,t,g){var I,e,i,T;if(N(t),void 0===(e=A._events)?(e=A._events=Object.create(null),A._eventsCount=0):(void 0!==e.newListener&&(A.emit("newListener",M,t.listener?t.listener:t),e=A._events),i=e[M]),void 0===i)i=e[M]=t,++A._eventsCount;else if("function"==typeof i?i=e[M]=g?[t,i]:[i,t]:g?i.unshift(t):i.push(t),(I=n(A))>0&&i.length>I&&!i.warned){i.warned=!0;var E=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(M)+" listeners added. Use emitter.setMaxListeners() to increase limit");E.name="MaxListenersExceededWarning",E.emitter=A,E.type=M,E.count=i.length,T=E,console&&console.warn&&console.warn(T)}return A}function C(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function r(A,M,t){var g={fired:!1,wrapFn:void 0,target:A,type:M,listener:t},I=C.bind(g);return I.listener=t,g.wrapFn=I,I}function c(A,M,t){var g=A._events;if(void 0===g)return[];var I=g[M];return void 0===I?[]:"function"==typeof I?t?[I.listener||I]:[I]:t?function(A){for(var M=new Array(A.length),t=0;t<M.length;++t)M[t]=A[t].listener||A[t];return M}(I):B(I,I.length)}function o(A){var M=this._events;if(void 0!==M){var t=M[A];if("function"==typeof t)return 1;if(void 0!==t)return t.length}return 0}function B(A,M){for(var t=new Array(M),g=0;g<M;++g)t[g]=A[g];return t}Object.defineProperty(T,"defaultMaxListeners",{enumerable:!0,get:function(){return E},set:function(A){if("number"!=typeof A||A<0||i(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");E=A}}),T.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},T.prototype.setMaxListeners=function(A){if("number"!=typeof A||A<0||i(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this},T.prototype.getMaxListeners=function(){return n(this)},T.prototype.emit=function(A){for(var M=[],t=1;t<arguments.length;t++)M.push(arguments[t]);var g="error"===A,I=this._events;if(void 0!==I)g=g&&void 0===I.error;else if(!g)return!1;if(g){var i;if(M.length>0&&(i=M[0]),i instanceof Error)throw i;var T=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw T.context=i,T}var E=I[A];if(void 0===E)return!1;if("function"==typeof E)e(E,this,M);else{var N=E.length,n=B(E,N);for(t=0;t<N;++t)e(n[t],this,M)}return!0},T.prototype.addListener=function(A,M){return D(this,A,M,!1)},T.prototype.on=T.prototype.addListener,T.prototype.prependListener=function(A,M){return D(this,A,M,!0)},T.prototype.once=function(A,M){return N(M),this.on(A,r(this,A,M)),this},T.prototype.prependOnceListener=function(A,M){return N(M),this.prependListener(A,r(this,A,M)),this},T.prototype.removeListener=function(A,M){var t,g,I,e,i;if(N(M),void 0===(g=this._events))return this;if(void 0===(t=g[A]))return this;if(t===M||t.listener===M)0==--this._eventsCount?this._events=Object.create(null):(delete g[A],g.removeListener&&this.emit("removeListener",A,t.listener||M));else if("function"!=typeof t){for(I=-1,e=t.length-1;e>=0;e--)if(t[e]===M||t[e].listener===M){i=t[e].listener,I=e;break}if(I<0)return this;0===I?t.shift():function(A,M){for(;M+1<A.length;M++)A[M]=A[M+1];A.pop()}(t,I),1===t.length&&(g[A]=t[0]),void 0!==g.removeListener&&this.emit("removeListener",A,i||M)}return this},T.prototype.off=T.prototype.removeListener,T.prototype.removeAllListeners=function(A){var M,t,g;if(void 0===(t=this._events))return this;if(void 0===t.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==t[A]&&(0==--this._eventsCount?this._events=Object.create(null):delete t[A]),this;if(0===arguments.length){var I,e=Object.keys(t);for(g=0;g<e.length;++g)"removeListener"!==(I=e[g])&&this.removeAllListeners(I);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(M=t[A]))this.removeListener(A,M);else if(void 0!==M)for(g=M.length-1;g>=0;g--)this.removeListener(A,M[g]);return this},T.prototype.listeners=function(A){return c(this,A,!0)},T.prototype.rawListeners=function(A){return c(this,A,!1)},T.listenerCount=function(A,M){return"function"==typeof A.listenerCount?A.listenerCount(M):o.call(A,M)},T.prototype.listenerCount=o,T.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]}},function(A,M,t){(function(A){!function(A,M){"use strict";function g(A,M){if(!A)throw new Error(M||"Assertion failed")}function I(A,M){A.super_=M;var t=function(){};t.prototype=M.prototype,A.prototype=new t,A.prototype.constructor=A}function e(A,M,t){if(e.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,null!==A&&("le"!==M&&"be"!==M||(t=M,M=10),this._init(A||0,M||10,t||"be"))}var i;"object"==typeof A?A.exports=e:M.BN=e,e.BN=e,e.wordSize=26;try{i=t(165).Buffer}catch(A){}function T(A,M,t){for(var g=0,I=Math.min(A.length,t),e=M;e<I;e++){var i=A.charCodeAt(e)-48;g<<=4,g|=i>=49&&i<=54?i-49+10:i>=17&&i<=22?i-17+10:15&i}return g}function E(A,M,t,g){for(var I=0,e=Math.min(A.length,t),i=M;i<e;i++){var T=A.charCodeAt(i)-48;I*=g,I+=T>=49?T-49+10:T>=17?T-17+10:T}return I}e.isBN=function(A){return A instanceof e||null!==A&&"object"==typeof A&&A.constructor.wordSize===e.wordSize&&Array.isArray(A.words)},e.max=function(A,M){return A.cmp(M)>0?A:M},e.min=function(A,M){return A.cmp(M)<0?A:M},e.prototype._init=function(A,M,t){if("number"==typeof A)return this._initNumber(A,M,t);if("object"==typeof A)return this._initArray(A,M,t);"hex"===M&&(M=16),g(M===(0|M)&&M>=2&&M<=36);var I=0;"-"===(A=A.toString().replace(/\s+/g,""))[0]&&I++,16===M?this._parseHex(A,I):this._parseBase(A,M,I),"-"===A[0]&&(this.negative=1),this.strip(),"le"===t&&this._initArray(this.toArray(),M,t)},e.prototype._initNumber=function(A,M,t){A<0&&(this.negative=1,A=-A),A<67108864?(this.words=[67108863&A],this.length=1):A<4503599627370496?(this.words=[67108863&A,A/67108864&67108863],this.length=2):(g(A<9007199254740992),this.words=[67108863&A,A/67108864&67108863,1],this.length=3),"le"===t&&this._initArray(this.toArray(),M,t)},e.prototype._initArray=function(A,M,t){if(g("number"==typeof A.length),A.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(A.length/3),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var e,i,T=0;if("be"===t)for(I=A.length-1,e=0;I>=0;I-=3)i=A[I]|A[I-1]<<8|A[I-2]<<16,this.words[e]|=i<<T&67108863,this.words[e+1]=i>>>26-T&67108863,(T+=24)>=26&&(T-=26,e++);else if("le"===t)for(I=0,e=0;I<A.length;I+=3)i=A[I]|A[I+1]<<8|A[I+2]<<16,this.words[e]|=i<<T&67108863,this.words[e+1]=i>>>26-T&67108863,(T+=24)>=26&&(T-=26,e++);return this.strip()},e.prototype._parseHex=function(A,M){this.length=Math.ceil((A.length-M)/6),this.words=new Array(this.length);for(var t=0;t<this.length;t++)this.words[t]=0;var g,I,e=0;for(t=A.length-6,g=0;t>=M;t-=6)I=T(A,t,t+6),this.words[g]|=I<<e&67108863,this.words[g+1]|=I>>>26-e&4194303,(e+=24)>=26&&(e-=26,g++);t+6!==M&&(I=T(A,M,t+6),this.words[g]|=I<<e&67108863,this.words[g+1]|=I>>>26-e&4194303),this.strip()},e.prototype._parseBase=function(A,M,t){this.words=[0],this.length=1;for(var g=0,I=1;I<=67108863;I*=M)g++;g--,I=I/M|0;for(var e=A.length-t,i=e%g,T=Math.min(e,e-i)+t,N=0,n=t;n<T;n+=g)N=E(A,n,n+g,M),this.imuln(I),this.words[0]+N<67108864?this.words[0]+=N:this._iaddn(N);if(0!==i){var D=1;for(N=E(A,n,A.length,M),n=0;n<i;n++)D*=M;this.imuln(D),this.words[0]+N<67108864?this.words[0]+=N:this._iaddn(N)}},e.prototype.copy=function(A){A.words=new Array(this.length);for(var M=0;M<this.length;M++)A.words[M]=this.words[M];A.length=this.length,A.negative=this.negative,A.red=this.red},e.prototype.clone=function(){var A=new e(null);return this.copy(A),A},e.prototype._expand=function(A){for(;this.length<A;)this.words[this.length++]=0;return this},e.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},e.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},e.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var N=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],n=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],D=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function C(A,M,t){t.negative=M.negative^A.negative;var g=A.length+M.length|0;t.length=g,g=g-1|0;var I=0|A.words[0],e=0|M.words[0],i=I*e,T=67108863&i,E=i/67108864|0;t.words[0]=T;for(var N=1;N<g;N++){for(var n=E>>>26,D=67108863&E,C=Math.min(N,M.length-1),r=Math.max(0,N-A.length+1);r<=C;r++){var c=N-r|0;n+=(i=(I=0|A.words[c])*(e=0|M.words[r])+D)/67108864|0,D=67108863&i}t.words[N]=0|D,E=0|n}return 0!==E?t.words[N]=0|E:t.length--,t.strip()}e.prototype.toString=function(A,M){var t;if(M=0|M||1,16===(A=A||10)||"hex"===A){t="";for(var I=0,e=0,i=0;i<this.length;i++){var T=this.words[i],E=(16777215&(T<<I|e)).toString(16);t=0!==(e=T>>>24-I&16777215)||i!==this.length-1?N[6-E.length]+E+t:E+t,(I+=2)>=26&&(I-=26,i--)}for(0!==e&&(t=e.toString(16)+t);t.length%M!=0;)t="0"+t;return 0!==this.negative&&(t="-"+t),t}if(A===(0|A)&&A>=2&&A<=36){var C=n[A],r=D[A];t="";var c=this.clone();for(c.negative=0;!c.isZero();){var o=c.modn(r).toString(A);t=(c=c.idivn(r)).isZero()?o+t:N[C-o.length]+o+t}for(this.isZero()&&(t="0"+t);t.length%M!=0;)t="0"+t;return 0!==this.negative&&(t="-"+t),t}g(!1,"Base should be between 2 and 36")},e.prototype.toNumber=function(){var A=this.words[0];return 2===this.length?A+=67108864*this.words[1]:3===this.length&&1===this.words[2]?A+=4503599627370496+67108864*this.words[1]:this.length>2&&g(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-A:A},e.prototype.toJSON=function(){return this.toString(16)},e.prototype.toBuffer=function(A,M){return g(void 0!==i),this.toArrayLike(i,A,M)},e.prototype.toArray=function(A,M){return this.toArrayLike(Array,A,M)},e.prototype.toArrayLike=function(A,M,t){var I=this.byteLength(),e=t||Math.max(1,I);g(I<=e,"byte array longer than desired length"),g(e>0,"Requested array length <= 0"),this.strip();var i,T,E="le"===M,N=new A(e),n=this.clone();if(E){for(T=0;!n.isZero();T++)i=n.andln(255),n.iushrn(8),N[T]=i;for(;T<e;T++)N[T]=0}else{for(T=0;T<e-I;T++)N[T]=0;for(T=0;!n.isZero();T++)i=n.andln(255),n.iushrn(8),N[e-T-1]=i}return N},Math.clz32?e.prototype._countBits=function(A){return 32-Math.clz32(A)}:e.prototype._countBits=function(A){var M=A,t=0;return M>=4096&&(t+=13,M>>>=13),M>=64&&(t+=7,M>>>=7),M>=8&&(t+=4,M>>>=4),M>=2&&(t+=2,M>>>=2),t+M},e.prototype._zeroBits=function(A){if(0===A)return 26;var M=A,t=0;return 0==(8191&M)&&(t+=13,M>>>=13),0==(127&M)&&(t+=7,M>>>=7),0==(15&M)&&(t+=4,M>>>=4),0==(3&M)&&(t+=2,M>>>=2),0==(1&M)&&t++,t},e.prototype.bitLength=function(){var A=this.words[this.length-1],M=this._countBits(A);return 26*(this.length-1)+M},e.prototype.zeroBits=function(){if(this.isZero())return 0;for(var A=0,M=0;M<this.length;M++){var t=this._zeroBits(this.words[M]);if(A+=t,26!==t)break}return A},e.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},e.prototype.toTwos=function(A){return 0!==this.negative?this.abs().inotn(A).iaddn(1):this.clone()},e.prototype.fromTwos=function(A){return this.testn(A-1)?this.notn(A).iaddn(1).ineg():this.clone()},e.prototype.isNeg=function(){return 0!==this.negative},e.prototype.neg=function(){return this.clone().ineg()},e.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},e.prototype.iuor=function(A){for(;this.length<A.length;)this.words[this.length++]=0;for(var M=0;M<A.length;M++)this.words[M]=this.words[M]|A.words[M];return this.strip()},e.prototype.ior=function(A){return g(0==(this.negative|A.negative)),this.iuor(A)},e.prototype.or=function(A){return this.length>A.length?this.clone().ior(A):A.clone().ior(this)},e.prototype.uor=function(A){return this.length>A.length?this.clone().iuor(A):A.clone().iuor(this)},e.prototype.iuand=function(A){var M;M=this.length>A.length?A:this;for(var t=0;t<M.length;t++)this.words[t]=this.words[t]&A.words[t];return this.length=M.length,this.strip()},e.prototype.iand=function(A){return g(0==(this.negative|A.negative)),this.iuand(A)},e.prototype.and=function(A){return this.length>A.length?this.clone().iand(A):A.clone().iand(this)},e.prototype.uand=function(A){return this.length>A.length?this.clone().iuand(A):A.clone().iuand(this)},e.prototype.iuxor=function(A){var M,t;this.length>A.length?(M=this,t=A):(M=A,t=this);for(var g=0;g<t.length;g++)this.words[g]=M.words[g]^t.words[g];if(this!==M)for(;g<M.length;g++)this.words[g]=M.words[g];return this.length=M.length,this.strip()},e.prototype.ixor=function(A){return g(0==(this.negative|A.negative)),this.iuxor(A)},e.prototype.xor=function(A){return this.length>A.length?this.clone().ixor(A):A.clone().ixor(this)},e.prototype.uxor=function(A){return this.length>A.length?this.clone().iuxor(A):A.clone().iuxor(this)},e.prototype.inotn=function(A){g("number"==typeof A&&A>=0);var M=0|Math.ceil(A/26),t=A%26;this._expand(M),t>0&&M--;for(var I=0;I<M;I++)this.words[I]=67108863&~this.words[I];return t>0&&(this.words[I]=~this.words[I]&67108863>>26-t),this.strip()},e.prototype.notn=function(A){return this.clone().inotn(A)},e.prototype.setn=function(A,M){g("number"==typeof A&&A>=0);var t=A/26|0,I=A%26;return this._expand(t+1),this.words[t]=M?this.words[t]|1<<I:this.words[t]&~(1<<I),this.strip()},e.prototype.iadd=function(A){var M,t,g;if(0!==this.negative&&0===A.negative)return this.negative=0,M=this.isub(A),this.negative^=1,this._normSign();if(0===this.negative&&0!==A.negative)return A.negative=0,M=this.isub(A),A.negative=1,M._normSign();this.length>A.length?(t=this,g=A):(t=A,g=this);for(var I=0,e=0;e<g.length;e++)M=(0|t.words[e])+(0|g.words[e])+I,this.words[e]=67108863&M,I=M>>>26;for(;0!==I&&e<t.length;e++)M=(0|t.words[e])+I,this.words[e]=67108863&M,I=M>>>26;if(this.length=t.length,0!==I)this.words[this.length]=I,this.length++;else if(t!==this)for(;e<t.length;e++)this.words[e]=t.words[e];return this},e.prototype.add=function(A){var M;return 0!==A.negative&&0===this.negative?(A.negative=0,M=this.sub(A),A.negative^=1,M):0===A.negative&&0!==this.negative?(this.negative=0,M=A.sub(this),this.negative=1,M):this.length>A.length?this.clone().iadd(A):A.clone().iadd(this)},e.prototype.isub=function(A){if(0!==A.negative){A.negative=0;var M=this.iadd(A);return A.negative=1,M._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(A),this.negative=1,this._normSign();var t,g,I=this.cmp(A);if(0===I)return this.negative=0,this.length=1,this.words[0]=0,this;I>0?(t=this,g=A):(t=A,g=this);for(var e=0,i=0;i<g.length;i++)e=(M=(0|t.words[i])-(0|g.words[i])+e)>>26,this.words[i]=67108863&M;for(;0!==e&&i<t.length;i++)e=(M=(0|t.words[i])+e)>>26,this.words[i]=67108863&M;if(0===e&&i<t.length&&t!==this)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=Math.max(this.length,i),t!==this&&(this.negative=1),this.strip()},e.prototype.sub=function(A){return this.clone().isub(A)};var r=function(A,M,t){var g,I,e,i=A.words,T=M.words,E=t.words,N=0,n=0|i[0],D=8191&n,C=n>>>13,r=0|i[1],c=8191&r,o=r>>>13,B=0|i[2],Q=8191&B,a=B>>>13,h=0|i[3],s=8191&h,y=h>>>13,w=0|i[4],j=8191&w,L=w>>>13,d=0|i[5],x=8191&d,Y=d>>>13,u=0|i[6],S=8191&u,l=u>>>13,z=0|i[7],U=8191&z,f=z>>>13,O=0|i[8],m=8191&O,F=O>>>13,R=0|i[9],k=8191&R,p=R>>>13,b=0|T[0],G=8191&b,J=b>>>13,H=0|T[1],X=8191&H,v=H>>>13,V=0|T[2],W=8191&V,P=V>>>13,Z=0|T[3],K=8191&Z,q=Z>>>13,_=0|T[4],$=8191&_,AA=_>>>13,MA=0|T[5],tA=8191&MA,gA=MA>>>13,IA=0|T[6],eA=8191&IA,iA=IA>>>13,TA=0|T[7],EA=8191&TA,NA=TA>>>13,nA=0|T[8],DA=8191&nA,CA=nA>>>13,rA=0|T[9],cA=8191&rA,oA=rA>>>13;t.negative=A.negative^M.negative,t.length=19;var BA=(N+(g=Math.imul(D,G))|0)+((8191&(I=(I=Math.imul(D,J))+Math.imul(C,G)|0))<<13)|0;N=((e=Math.imul(C,J))+(I>>>13)|0)+(BA>>>26)|0,BA&=67108863,g=Math.imul(c,G),I=(I=Math.imul(c,J))+Math.imul(o,G)|0,e=Math.imul(o,J);var QA=(N+(g=g+Math.imul(D,X)|0)|0)+((8191&(I=(I=I+Math.imul(D,v)|0)+Math.imul(C,X)|0))<<13)|0;N=((e=e+Math.imul(C,v)|0)+(I>>>13)|0)+(QA>>>26)|0,QA&=67108863,g=Math.imul(Q,G),I=(I=Math.imul(Q,J))+Math.imul(a,G)|0,e=Math.imul(a,J),g=g+Math.imul(c,X)|0,I=(I=I+Math.imul(c,v)|0)+Math.imul(o,X)|0,e=e+Math.imul(o,v)|0;var aA=(N+(g=g+Math.imul(D,W)|0)|0)+((8191&(I=(I=I+Math.imul(D,P)|0)+Math.imul(C,W)|0))<<13)|0;N=((e=e+Math.imul(C,P)|0)+(I>>>13)|0)+(aA>>>26)|0,aA&=67108863,g=Math.imul(s,G),I=(I=Math.imul(s,J))+Math.imul(y,G)|0,e=Math.imul(y,J),g=g+Math.imul(Q,X)|0,I=(I=I+Math.imul(Q,v)|0)+Math.imul(a,X)|0,e=e+Math.imul(a,v)|0,g=g+Math.imul(c,W)|0,I=(I=I+Math.imul(c,P)|0)+Math.imul(o,W)|0,e=e+Math.imul(o,P)|0;var hA=(N+(g=g+Math.imul(D,K)|0)|0)+((8191&(I=(I=I+Math.imul(D,q)|0)+Math.imul(C,K)|0))<<13)|0;N=((e=e+Math.imul(C,q)|0)+(I>>>13)|0)+(hA>>>26)|0,hA&=67108863,g=Math.imul(j,G),I=(I=Math.imul(j,J))+Math.imul(L,G)|0,e=Math.imul(L,J),g=g+Math.imul(s,X)|0,I=(I=I+Math.imul(s,v)|0)+Math.imul(y,X)|0,e=e+Math.imul(y,v)|0,g=g+Math.imul(Q,W)|0,I=(I=I+Math.imul(Q,P)|0)+Math.imul(a,W)|0,e=e+Math.imul(a,P)|0,g=g+Math.imul(c,K)|0,I=(I=I+Math.imul(c,q)|0)+Math.imul(o,K)|0,e=e+Math.imul(o,q)|0;var sA=(N+(g=g+Math.imul(D,$)|0)|0)+((8191&(I=(I=I+Math.imul(D,AA)|0)+Math.imul(C,$)|0))<<13)|0;N=((e=e+Math.imul(C,AA)|0)+(I>>>13)|0)+(sA>>>26)|0,sA&=67108863,g=Math.imul(x,G),I=(I=Math.imul(x,J))+Math.imul(Y,G)|0,e=Math.imul(Y,J),g=g+Math.imul(j,X)|0,I=(I=I+Math.imul(j,v)|0)+Math.imul(L,X)|0,e=e+Math.imul(L,v)|0,g=g+Math.imul(s,W)|0,I=(I=I+Math.imul(s,P)|0)+Math.imul(y,W)|0,e=e+Math.imul(y,P)|0,g=g+Math.imul(Q,K)|0,I=(I=I+Math.imul(Q,q)|0)+Math.imul(a,K)|0,e=e+Math.imul(a,q)|0,g=g+Math.imul(c,$)|0,I=(I=I+Math.imul(c,AA)|0)+Math.imul(o,$)|0,e=e+Math.imul(o,AA)|0;var yA=(N+(g=g+Math.imul(D,tA)|0)|0)+((8191&(I=(I=I+Math.imul(D,gA)|0)+Math.imul(C,tA)|0))<<13)|0;N=((e=e+Math.imul(C,gA)|0)+(I>>>13)|0)+(yA>>>26)|0,yA&=67108863,g=Math.imul(S,G),I=(I=Math.imul(S,J))+Math.imul(l,G)|0,e=Math.imul(l,J),g=g+Math.imul(x,X)|0,I=(I=I+Math.imul(x,v)|0)+Math.imul(Y,X)|0,e=e+Math.imul(Y,v)|0,g=g+Math.imul(j,W)|0,I=(I=I+Math.imul(j,P)|0)+Math.imul(L,W)|0,e=e+Math.imul(L,P)|0,g=g+Math.imul(s,K)|0,I=(I=I+Math.imul(s,q)|0)+Math.imul(y,K)|0,e=e+Math.imul(y,q)|0,g=g+Math.imul(Q,$)|0,I=(I=I+Math.imul(Q,AA)|0)+Math.imul(a,$)|0,e=e+Math.imul(a,AA)|0,g=g+Math.imul(c,tA)|0,I=(I=I+Math.imul(c,gA)|0)+Math.imul(o,tA)|0,e=e+Math.imul(o,gA)|0;var wA=(N+(g=g+Math.imul(D,eA)|0)|0)+((8191&(I=(I=I+Math.imul(D,iA)|0)+Math.imul(C,eA)|0))<<13)|0;N=((e=e+Math.imul(C,iA)|0)+(I>>>13)|0)+(wA>>>26)|0,wA&=67108863,g=Math.imul(U,G),I=(I=Math.imul(U,J))+Math.imul(f,G)|0,e=Math.imul(f,J),g=g+Math.imul(S,X)|0,I=(I=I+Math.imul(S,v)|0)+Math.imul(l,X)|0,e=e+Math.imul(l,v)|0,g=g+Math.imul(x,W)|0,I=(I=I+Math.imul(x,P)|0)+Math.imul(Y,W)|0,e=e+Math.imul(Y,P)|0,g=g+Math.imul(j,K)|0,I=(I=I+Math.imul(j,q)|0)+Math.imul(L,K)|0,e=e+Math.imul(L,q)|0,g=g+Math.imul(s,$)|0,I=(I=I+Math.imul(s,AA)|0)+Math.imul(y,$)|0,e=e+Math.imul(y,AA)|0,g=g+Math.imul(Q,tA)|0,I=(I=I+Math.imul(Q,gA)|0)+Math.imul(a,tA)|0,e=e+Math.imul(a,gA)|0,g=g+Math.imul(c,eA)|0,I=(I=I+Math.imul(c,iA)|0)+Math.imul(o,eA)|0,e=e+Math.imul(o,iA)|0;var jA=(N+(g=g+Math.imul(D,EA)|0)|0)+((8191&(I=(I=I+Math.imul(D,NA)|0)+Math.imul(C,EA)|0))<<13)|0;N=((e=e+Math.imul(C,NA)|0)+(I>>>13)|0)+(jA>>>26)|0,jA&=67108863,g=Math.imul(m,G),I=(I=Math.imul(m,J))+Math.imul(F,G)|0,e=Math.imul(F,J),g=g+Math.imul(U,X)|0,I=(I=I+Math.imul(U,v)|0)+Math.imul(f,X)|0,e=e+Math.imul(f,v)|0,g=g+Math.imul(S,W)|0,I=(I=I+Math.imul(S,P)|0)+Math.imul(l,W)|0,e=e+Math.imul(l,P)|0,g=g+Math.imul(x,K)|0,I=(I=I+Math.imul(x,q)|0)+Math.imul(Y,K)|0,e=e+Math.imul(Y,q)|0,g=g+Math.imul(j,$)|0,I=(I=I+Math.imul(j,AA)|0)+Math.imul(L,$)|0,e=e+Math.imul(L,AA)|0,g=g+Math.imul(s,tA)|0,I=(I=I+Math.imul(s,gA)|0)+Math.imul(y,tA)|0,e=e+Math.imul(y,gA)|0,g=g+Math.imul(Q,eA)|0,I=(I=I+Math.imul(Q,iA)|0)+Math.imul(a,eA)|0,e=e+Math.imul(a,iA)|0,g=g+Math.imul(c,EA)|0,I=(I=I+Math.imul(c,NA)|0)+Math.imul(o,EA)|0,e=e+Math.imul(o,NA)|0;var LA=(N+(g=g+Math.imul(D,DA)|0)|0)+((8191&(I=(I=I+Math.imul(D,CA)|0)+Math.imul(C,DA)|0))<<13)|0;N=((e=e+Math.imul(C,CA)|0)+(I>>>13)|0)+(LA>>>26)|0,LA&=67108863,g=Math.imul(k,G),I=(I=Math.imul(k,J))+Math.imul(p,G)|0,e=Math.imul(p,J),g=g+Math.imul(m,X)|0,I=(I=I+Math.imul(m,v)|0)+Math.imul(F,X)|0,e=e+Math.imul(F,v)|0,g=g+Math.imul(U,W)|0,I=(I=I+Math.imul(U,P)|0)+Math.imul(f,W)|0,e=e+Math.imul(f,P)|0,g=g+Math.imul(S,K)|0,I=(I=I+Math.imul(S,q)|0)+Math.imul(l,K)|0,e=e+Math.imul(l,q)|0,g=g+Math.imul(x,$)|0,I=(I=I+Math.imul(x,AA)|0)+Math.imul(Y,$)|0,e=e+Math.imul(Y,AA)|0,g=g+Math.imul(j,tA)|0,I=(I=I+Math.imul(j,gA)|0)+Math.imul(L,tA)|0,e=e+Math.imul(L,gA)|0,g=g+Math.imul(s,eA)|0,I=(I=I+Math.imul(s,iA)|0)+Math.imul(y,eA)|0,e=e+Math.imul(y,iA)|0,g=g+Math.imul(Q,EA)|0,I=(I=I+Math.imul(Q,NA)|0)+Math.imul(a,EA)|0,e=e+Math.imul(a,NA)|0,g=g+Math.imul(c,DA)|0,I=(I=I+Math.imul(c,CA)|0)+Math.imul(o,DA)|0,e=e+Math.imul(o,CA)|0;var dA=(N+(g=g+Math.imul(D,cA)|0)|0)+((8191&(I=(I=I+Math.imul(D,oA)|0)+Math.imul(C,cA)|0))<<13)|0;N=((e=e+Math.imul(C,oA)|0)+(I>>>13)|0)+(dA>>>26)|0,dA&=67108863,g=Math.imul(k,X),I=(I=Math.imul(k,v))+Math.imul(p,X)|0,e=Math.imul(p,v),g=g+Math.imul(m,W)|0,I=(I=I+Math.imul(m,P)|0)+Math.imul(F,W)|0,e=e+Math.imul(F,P)|0,g=g+Math.imul(U,K)|0,I=(I=I+Math.imul(U,q)|0)+Math.imul(f,K)|0,e=e+Math.imul(f,q)|0,g=g+Math.imul(S,$)|0,I=(I=I+Math.imul(S,AA)|0)+Math.imul(l,$)|0,e=e+Math.imul(l,AA)|0,g=g+Math.imul(x,tA)|0,I=(I=I+Math.imul(x,gA)|0)+Math.imul(Y,tA)|0,e=e+Math.imul(Y,gA)|0,g=g+Math.imul(j,eA)|0,I=(I=I+Math.imul(j,iA)|0)+Math.imul(L,eA)|0,e=e+Math.imul(L,iA)|0,g=g+Math.imul(s,EA)|0,I=(I=I+Math.imul(s,NA)|0)+Math.imul(y,EA)|0,e=e+Math.imul(y,NA)|0,g=g+Math.imul(Q,DA)|0,I=(I=I+Math.imul(Q,CA)|0)+Math.imul(a,DA)|0,e=e+Math.imul(a,CA)|0;var xA=(N+(g=g+Math.imul(c,cA)|0)|0)+((8191&(I=(I=I+Math.imul(c,oA)|0)+Math.imul(o,cA)|0))<<13)|0;N=((e=e+Math.imul(o,oA)|0)+(I>>>13)|0)+(xA>>>26)|0,xA&=67108863,g=Math.imul(k,W),I=(I=Math.imul(k,P))+Math.imul(p,W)|0,e=Math.imul(p,P),g=g+Math.imul(m,K)|0,I=(I=I+Math.imul(m,q)|0)+Math.imul(F,K)|0,e=e+Math.imul(F,q)|0,g=g+Math.imul(U,$)|0,I=(I=I+Math.imul(U,AA)|0)+Math.imul(f,$)|0,e=e+Math.imul(f,AA)|0,g=g+Math.imul(S,tA)|0,I=(I=I+Math.imul(S,gA)|0)+Math.imul(l,tA)|0,e=e+Math.imul(l,gA)|0,g=g+Math.imul(x,eA)|0,I=(I=I+Math.imul(x,iA)|0)+Math.imul(Y,eA)|0,e=e+Math.imul(Y,iA)|0,g=g+Math.imul(j,EA)|0,I=(I=I+Math.imul(j,NA)|0)+Math.imul(L,EA)|0,e=e+Math.imul(L,NA)|0,g=g+Math.imul(s,DA)|0,I=(I=I+Math.imul(s,CA)|0)+Math.imul(y,DA)|0,e=e+Math.imul(y,CA)|0;var YA=(N+(g=g+Math.imul(Q,cA)|0)|0)+((8191&(I=(I=I+Math.imul(Q,oA)|0)+Math.imul(a,cA)|0))<<13)|0;N=((e=e+Math.imul(a,oA)|0)+(I>>>13)|0)+(YA>>>26)|0,YA&=67108863,g=Math.imul(k,K),I=(I=Math.imul(k,q))+Math.imul(p,K)|0,e=Math.imul(p,q),g=g+Math.imul(m,$)|0,I=(I=I+Math.imul(m,AA)|0)+Math.imul(F,$)|0,e=e+Math.imul(F,AA)|0,g=g+Math.imul(U,tA)|0,I=(I=I+Math.imul(U,gA)|0)+Math.imul(f,tA)|0,e=e+Math.imul(f,gA)|0,g=g+Math.imul(S,eA)|0,I=(I=I+Math.imul(S,iA)|0)+Math.imul(l,eA)|0,e=e+Math.imul(l,iA)|0,g=g+Math.imul(x,EA)|0,I=(I=I+Math.imul(x,NA)|0)+Math.imul(Y,EA)|0,e=e+Math.imul(Y,NA)|0,g=g+Math.imul(j,DA)|0,I=(I=I+Math.imul(j,CA)|0)+Math.imul(L,DA)|0,e=e+Math.imul(L,CA)|0;var uA=(N+(g=g+Math.imul(s,cA)|0)|0)+((8191&(I=(I=I+Math.imul(s,oA)|0)+Math.imul(y,cA)|0))<<13)|0;N=((e=e+Math.imul(y,oA)|0)+(I>>>13)|0)+(uA>>>26)|0,uA&=67108863,g=Math.imul(k,$),I=(I=Math.imul(k,AA))+Math.imul(p,$)|0,e=Math.imul(p,AA),g=g+Math.imul(m,tA)|0,I=(I=I+Math.imul(m,gA)|0)+Math.imul(F,tA)|0,e=e+Math.imul(F,gA)|0,g=g+Math.imul(U,eA)|0,I=(I=I+Math.imul(U,iA)|0)+Math.imul(f,eA)|0,e=e+Math.imul(f,iA)|0,g=g+Math.imul(S,EA)|0,I=(I=I+Math.imul(S,NA)|0)+Math.imul(l,EA)|0,e=e+Math.imul(l,NA)|0,g=g+Math.imul(x,DA)|0,I=(I=I+Math.imul(x,CA)|0)+Math.imul(Y,DA)|0,e=e+Math.imul(Y,CA)|0;var SA=(N+(g=g+Math.imul(j,cA)|0)|0)+((8191&(I=(I=I+Math.imul(j,oA)|0)+Math.imul(L,cA)|0))<<13)|0;N=((e=e+Math.imul(L,oA)|0)+(I>>>13)|0)+(SA>>>26)|0,SA&=67108863,g=Math.imul(k,tA),I=(I=Math.imul(k,gA))+Math.imul(p,tA)|0,e=Math.imul(p,gA),g=g+Math.imul(m,eA)|0,I=(I=I+Math.imul(m,iA)|0)+Math.imul(F,eA)|0,e=e+Math.imul(F,iA)|0,g=g+Math.imul(U,EA)|0,I=(I=I+Math.imul(U,NA)|0)+Math.imul(f,EA)|0,e=e+Math.imul(f,NA)|0,g=g+Math.imul(S,DA)|0,I=(I=I+Math.imul(S,CA)|0)+Math.imul(l,DA)|0,e=e+Math.imul(l,CA)|0;var lA=(N+(g=g+Math.imul(x,cA)|0)|0)+((8191&(I=(I=I+Math.imul(x,oA)|0)+Math.imul(Y,cA)|0))<<13)|0;N=((e=e+Math.imul(Y,oA)|0)+(I>>>13)|0)+(lA>>>26)|0,lA&=67108863,g=Math.imul(k,eA),I=(I=Math.imul(k,iA))+Math.imul(p,eA)|0,e=Math.imul(p,iA),g=g+Math.imul(m,EA)|0,I=(I=I+Math.imul(m,NA)|0)+Math.imul(F,EA)|0,e=e+Math.imul(F,NA)|0,g=g+Math.imul(U,DA)|0,I=(I=I+Math.imul(U,CA)|0)+Math.imul(f,DA)|0,e=e+Math.imul(f,CA)|0;var zA=(N+(g=g+Math.imul(S,cA)|0)|0)+((8191&(I=(I=I+Math.imul(S,oA)|0)+Math.imul(l,cA)|0))<<13)|0;N=((e=e+Math.imul(l,oA)|0)+(I>>>13)|0)+(zA>>>26)|0,zA&=67108863,g=Math.imul(k,EA),I=(I=Math.imul(k,NA))+Math.imul(p,EA)|0,e=Math.imul(p,NA),g=g+Math.imul(m,DA)|0,I=(I=I+Math.imul(m,CA)|0)+Math.imul(F,DA)|0,e=e+Math.imul(F,CA)|0;var UA=(N+(g=g+Math.imul(U,cA)|0)|0)+((8191&(I=(I=I+Math.imul(U,oA)|0)+Math.imul(f,cA)|0))<<13)|0;N=((e=e+Math.imul(f,oA)|0)+(I>>>13)|0)+(UA>>>26)|0,UA&=67108863,g=Math.imul(k,DA),I=(I=Math.imul(k,CA))+Math.imul(p,DA)|0,e=Math.imul(p,CA);var fA=(N+(g=g+Math.imul(m,cA)|0)|0)+((8191&(I=(I=I+Math.imul(m,oA)|0)+Math.imul(F,cA)|0))<<13)|0;N=((e=e+Math.imul(F,oA)|0)+(I>>>13)|0)+(fA>>>26)|0,fA&=67108863;var OA=(N+(g=Math.imul(k,cA))|0)+((8191&(I=(I=Math.imul(k,oA))+Math.imul(p,cA)|0))<<13)|0;return N=((e=Math.imul(p,oA))+(I>>>13)|0)+(OA>>>26)|0,OA&=67108863,E[0]=BA,E[1]=QA,E[2]=aA,E[3]=hA,E[4]=sA,E[5]=yA,E[6]=wA,E[7]=jA,E[8]=LA,E[9]=dA,E[10]=xA,E[11]=YA,E[12]=uA,E[13]=SA,E[14]=lA,E[15]=zA,E[16]=UA,E[17]=fA,E[18]=OA,0!==N&&(E[19]=N,t.length++),t};function c(A,M,t){return(new o).mulp(A,M,t)}function o(A,M){this.x=A,this.y=M}Math.imul||(r=C),e.prototype.mulTo=function(A,M){var t=this.length+A.length;return 10===this.length&&10===A.length?r(this,A,M):t<63?C(this,A,M):t<1024?function(A,M,t){t.negative=M.negative^A.negative,t.length=A.length+M.length;for(var g=0,I=0,e=0;e<t.length-1;e++){var i=I;I=0;for(var T=67108863&g,E=Math.min(e,M.length-1),N=Math.max(0,e-A.length+1);N<=E;N++){var n=e-N,D=(0|A.words[n])*(0|M.words[N]),C=67108863&D;T=67108863&(C=C+T|0),I+=(i=(i=i+(D/67108864|0)|0)+(C>>>26)|0)>>>26,i&=67108863}t.words[e]=T,g=i,i=I}return 0!==g?t.words[e]=g:t.length--,t.strip()}(this,A,M):c(this,A,M)},o.prototype.makeRBT=function(A){for(var M=new Array(A),t=e.prototype._countBits(A)-1,g=0;g<A;g++)M[g]=this.revBin(g,t,A);return M},o.prototype.revBin=function(A,M,t){if(0===A||A===t-1)return A;for(var g=0,I=0;I<M;I++)g|=(1&A)<<M-I-1,A>>=1;return g},o.prototype.permute=function(A,M,t,g,I,e){for(var i=0;i<e;i++)g[i]=M[A[i]],I[i]=t[A[i]]},o.prototype.transform=function(A,M,t,g,I,e){this.permute(e,A,M,t,g,I);for(var i=1;i<I;i<<=1)for(var T=i<<1,E=Math.cos(2*Math.PI/T),N=Math.sin(2*Math.PI/T),n=0;n<I;n+=T)for(var D=E,C=N,r=0;r<i;r++){var c=t[n+r],o=g[n+r],B=t[n+r+i],Q=g[n+r+i],a=D*B-C*Q;Q=D*Q+C*B,B=a,t[n+r]=c+B,g[n+r]=o+Q,t[n+r+i]=c-B,g[n+r+i]=o-Q,r!==T&&(a=E*D-N*C,C=E*C+N*D,D=a)}},o.prototype.guessLen13b=function(A,M){var t=1|Math.max(M,A),g=1&t,I=0;for(t=t/2|0;t;t>>>=1)I++;return 1<<I+1+g},o.prototype.conjugate=function(A,M,t){if(!(t<=1))for(var g=0;g<t/2;g++){var I=A[g];A[g]=A[t-g-1],A[t-g-1]=I,I=M[g],M[g]=-M[t-g-1],M[t-g-1]=-I}},o.prototype.normalize13b=function(A,M){for(var t=0,g=0;g<M/2;g++){var I=8192*Math.round(A[2*g+1]/M)+Math.round(A[2*g]/M)+t;A[g]=67108863&I,t=I<67108864?0:I/67108864|0}return A},o.prototype.convert13b=function(A,M,t,I){for(var e=0,i=0;i<M;i++)e+=0|A[i],t[2*i]=8191&e,e>>>=13,t[2*i+1]=8191&e,e>>>=13;for(i=2*M;i<I;++i)t[i]=0;g(0===e),g(0==(-8192&e))},o.prototype.stub=function(A){for(var M=new Array(A),t=0;t<A;t++)M[t]=0;return M},o.prototype.mulp=function(A,M,t){var g=2*this.guessLen13b(A.length,M.length),I=this.makeRBT(g),e=this.stub(g),i=new Array(g),T=new Array(g),E=new Array(g),N=new Array(g),n=new Array(g),D=new Array(g),C=t.words;C.length=g,this.convert13b(A.words,A.length,i,g),this.convert13b(M.words,M.length,N,g),this.transform(i,e,T,E,g,I),this.transform(N,e,n,D,g,I);for(var r=0;r<g;r++){var c=T[r]*n[r]-E[r]*D[r];E[r]=T[r]*D[r]+E[r]*n[r],T[r]=c}return this.conjugate(T,E,g),this.transform(T,E,C,e,g,I),this.conjugate(C,e,g),this.normalize13b(C,g),t.negative=A.negative^M.negative,t.length=A.length+M.length,t.strip()},e.prototype.mul=function(A){var M=new e(null);return M.words=new Array(this.length+A.length),this.mulTo(A,M)},e.prototype.mulf=function(A){var M=new e(null);return M.words=new Array(this.length+A.length),c(this,A,M)},e.prototype.imul=function(A){return this.clone().mulTo(A,this)},e.prototype.imuln=function(A){g("number"==typeof A),g(A<67108864);for(var M=0,t=0;t<this.length;t++){var I=(0|this.words[t])*A,e=(67108863&I)+(67108863&M);M>>=26,M+=I/67108864|0,M+=e>>>26,this.words[t]=67108863&e}return 0!==M&&(this.words[t]=M,this.length++),this},e.prototype.muln=function(A){return this.clone().imuln(A)},e.prototype.sqr=function(){return this.mul(this)},e.prototype.isqr=function(){return this.imul(this.clone())},e.prototype.pow=function(A){var M=function(A){for(var M=new Array(A.bitLength()),t=0;t<M.length;t++){var g=t/26|0,I=t%26;M[t]=(A.words[g]&1<<I)>>>I}return M}(A);if(0===M.length)return new e(1);for(var t=this,g=0;g<M.length&&0===M[g];g++,t=t.sqr());if(++g<M.length)for(var I=t.sqr();g<M.length;g++,I=I.sqr())0!==M[g]&&(t=t.mul(I));return t},e.prototype.iushln=function(A){g("number"==typeof A&&A>=0);var M,t=A%26,I=(A-t)/26,e=67108863>>>26-t<<26-t;if(0!==t){var i=0;for(M=0;M<this.length;M++){var T=this.words[M]&e,E=(0|this.words[M])-T<<t;this.words[M]=E|i,i=T>>>26-t}i&&(this.words[M]=i,this.length++)}if(0!==I){for(M=this.length-1;M>=0;M--)this.words[M+I]=this.words[M];for(M=0;M<I;M++)this.words[M]=0;this.length+=I}return this.strip()},e.prototype.ishln=function(A){return g(0===this.negative),this.iushln(A)},e.prototype.iushrn=function(A,M,t){var I;g("number"==typeof A&&A>=0),I=M?(M-M%26)/26:0;var e=A%26,i=Math.min((A-e)/26,this.length),T=67108863^67108863>>>e<<e,E=t;if(I-=i,I=Math.max(0,I),E){for(var N=0;N<i;N++)E.words[N]=this.words[N];E.length=i}if(0===i);else if(this.length>i)for(this.length-=i,N=0;N<this.length;N++)this.words[N]=this.words[N+i];else this.words[0]=0,this.length=1;var n=0;for(N=this.length-1;N>=0&&(0!==n||N>=I);N--){var D=0|this.words[N];this.words[N]=n<<26-e|D>>>e,n=D&T}return E&&0!==n&&(E.words[E.length++]=n),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},e.prototype.ishrn=function(A,M,t){return g(0===this.negative),this.iushrn(A,M,t)},e.prototype.shln=function(A){return this.clone().ishln(A)},e.prototype.ushln=function(A){return this.clone().iushln(A)},e.prototype.shrn=function(A){return this.clone().ishrn(A)},e.prototype.ushrn=function(A){return this.clone().iushrn(A)},e.prototype.testn=function(A){g("number"==typeof A&&A>=0);var M=A%26,t=(A-M)/26,I=1<<M;return!(this.length<=t)&&!!(this.words[t]&I)},e.prototype.imaskn=function(A){g("number"==typeof A&&A>=0);var M=A%26,t=(A-M)/26;if(g(0===this.negative,"imaskn works only with positive numbers"),this.length<=t)return this;if(0!==M&&t++,this.length=Math.min(t,this.length),0!==M){var I=67108863^67108863>>>M<<M;this.words[this.length-1]&=I}return this.strip()},e.prototype.maskn=function(A){return this.clone().imaskn(A)},e.prototype.iaddn=function(A){return g("number"==typeof A),g(A<67108864),A<0?this.isubn(-A):0!==this.negative?1===this.length&&(0|this.words[0])<A?(this.words[0]=A-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(A),this.negative=1,this):this._iaddn(A)},e.prototype._iaddn=function(A){this.words[0]+=A;for(var M=0;M<this.length&&this.words[M]>=67108864;M++)this.words[M]-=67108864,M===this.length-1?this.words[M+1]=1:this.words[M+1]++;return this.length=Math.max(this.length,M+1),this},e.prototype.isubn=function(A){if(g("number"==typeof A),g(A<67108864),A<0)return this.iaddn(-A);if(0!==this.negative)return this.negative=0,this.iaddn(A),this.negative=1,this;if(this.words[0]-=A,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var M=0;M<this.length&&this.words[M]<0;M++)this.words[M]+=67108864,this.words[M+1]-=1;return this.strip()},e.prototype.addn=function(A){return this.clone().iaddn(A)},e.prototype.subn=function(A){return this.clone().isubn(A)},e.prototype.iabs=function(){return this.negative=0,this},e.prototype.abs=function(){return this.clone().iabs()},e.prototype._ishlnsubmul=function(A,M,t){var I,e,i=A.length+t;this._expand(i);var T=0;for(I=0;I<A.length;I++){e=(0|this.words[I+t])+T;var E=(0|A.words[I])*M;T=((e-=67108863&E)>>26)-(E/67108864|0),this.words[I+t]=67108863&e}for(;I<this.length-t;I++)T=(e=(0|this.words[I+t])+T)>>26,this.words[I+t]=67108863&e;if(0===T)return this.strip();for(g(-1===T),T=0,I=0;I<this.length;I++)T=(e=-(0|this.words[I])+T)>>26,this.words[I]=67108863&e;return this.negative=1,this.strip()},e.prototype._wordDiv=function(A,M){var t=(this.length,A.length),g=this.clone(),I=A,i=0|I.words[I.length-1];0!==(t=26-this._countBits(i))&&(I=I.ushln(t),g.iushln(t),i=0|I.words[I.length-1]);var T,E=g.length-I.length;if("mod"!==M){(T=new e(null)).length=E+1,T.words=new Array(T.length);for(var N=0;N<T.length;N++)T.words[N]=0}var n=g.clone()._ishlnsubmul(I,1,E);0===n.negative&&(g=n,T&&(T.words[E]=1));for(var D=E-1;D>=0;D--){var C=67108864*(0|g.words[I.length+D])+(0|g.words[I.length+D-1]);for(C=Math.min(C/i|0,67108863),g._ishlnsubmul(I,C,D);0!==g.negative;)C--,g.negative=0,g._ishlnsubmul(I,1,D),g.isZero()||(g.negative^=1);T&&(T.words[D]=C)}return T&&T.strip(),g.strip(),"div"!==M&&0!==t&&g.iushrn(t),{div:T||null,mod:g}},e.prototype.divmod=function(A,M,t){return g(!A.isZero()),this.isZero()?{div:new e(0),mod:new e(0)}:0!==this.negative&&0===A.negative?(T=this.neg().divmod(A,M),"mod"!==M&&(I=T.div.neg()),"div"!==M&&(i=T.mod.neg(),t&&0!==i.negative&&i.iadd(A)),{div:I,mod:i}):0===this.negative&&0!==A.negative?(T=this.divmod(A.neg(),M),"mod"!==M&&(I=T.div.neg()),{div:I,mod:T.mod}):0!=(this.negative&A.negative)?(T=this.neg().divmod(A.neg(),M),"div"!==M&&(i=T.mod.neg(),t&&0!==i.negative&&i.isub(A)),{div:T.div,mod:i}):A.length>this.length||this.cmp(A)<0?{div:new e(0),mod:this}:1===A.length?"div"===M?{div:this.divn(A.words[0]),mod:null}:"mod"===M?{div:null,mod:new e(this.modn(A.words[0]))}:{div:this.divn(A.words[0]),mod:new e(this.modn(A.words[0]))}:this._wordDiv(A,M);var I,i,T},e.prototype.div=function(A){return this.divmod(A,"div",!1).div},e.prototype.mod=function(A){return this.divmod(A,"mod",!1).mod},e.prototype.umod=function(A){return this.divmod(A,"mod",!0).mod},e.prototype.divRound=function(A){var M=this.divmod(A);if(M.mod.isZero())return M.div;var t=0!==M.div.negative?M.mod.isub(A):M.mod,g=A.ushrn(1),I=A.andln(1),e=t.cmp(g);return e<0||1===I&&0===e?M.div:0!==M.div.negative?M.div.isubn(1):M.div.iaddn(1)},e.prototype.modn=function(A){g(A<=67108863);for(var M=(1<<26)%A,t=0,I=this.length-1;I>=0;I--)t=(M*t+(0|this.words[I]))%A;return t},e.prototype.idivn=function(A){g(A<=67108863);for(var M=0,t=this.length-1;t>=0;t--){var I=(0|this.words[t])+67108864*M;this.words[t]=I/A|0,M=I%A}return this.strip()},e.prototype.divn=function(A){return this.clone().idivn(A)},e.prototype.egcd=function(A){g(0===A.negative),g(!A.isZero());var M=this,t=A.clone();M=0!==M.negative?M.umod(A):M.clone();for(var I=new e(1),i=new e(0),T=new e(0),E=new e(1),N=0;M.isEven()&&t.isEven();)M.iushrn(1),t.iushrn(1),++N;for(var n=t.clone(),D=M.clone();!M.isZero();){for(var C=0,r=1;0==(M.words[0]&r)&&C<26;++C,r<<=1);if(C>0)for(M.iushrn(C);C-- >0;)(I.isOdd()||i.isOdd())&&(I.iadd(n),i.isub(D)),I.iushrn(1),i.iushrn(1);for(var c=0,o=1;0==(t.words[0]&o)&&c<26;++c,o<<=1);if(c>0)for(t.iushrn(c);c-- >0;)(T.isOdd()||E.isOdd())&&(T.iadd(n),E.isub(D)),T.iushrn(1),E.iushrn(1);M.cmp(t)>=0?(M.isub(t),I.isub(T),i.isub(E)):(t.isub(M),T.isub(I),E.isub(i))}return{a:T,b:E,gcd:t.iushln(N)}},e.prototype._invmp=function(A){g(0===A.negative),g(!A.isZero());var M=this,t=A.clone();M=0!==M.negative?M.umod(A):M.clone();for(var I,i=new e(1),T=new e(0),E=t.clone();M.cmpn(1)>0&&t.cmpn(1)>0;){for(var N=0,n=1;0==(M.words[0]&n)&&N<26;++N,n<<=1);if(N>0)for(M.iushrn(N);N-- >0;)i.isOdd()&&i.iadd(E),i.iushrn(1);for(var D=0,C=1;0==(t.words[0]&C)&&D<26;++D,C<<=1);if(D>0)for(t.iushrn(D);D-- >0;)T.isOdd()&&T.iadd(E),T.iushrn(1);M.cmp(t)>=0?(M.isub(t),i.isub(T)):(t.isub(M),T.isub(i))}return(I=0===M.cmpn(1)?i:T).cmpn(0)<0&&I.iadd(A),I},e.prototype.gcd=function(A){if(this.isZero())return A.abs();if(A.isZero())return this.abs();var M=this.clone(),t=A.clone();M.negative=0,t.negative=0;for(var g=0;M.isEven()&&t.isEven();g++)M.iushrn(1),t.iushrn(1);for(;;){for(;M.isEven();)M.iushrn(1);for(;t.isEven();)t.iushrn(1);var I=M.cmp(t);if(I<0){var e=M;M=t,t=e}else if(0===I||0===t.cmpn(1))break;M.isub(t)}return t.iushln(g)},e.prototype.invm=function(A){return this.egcd(A).a.umod(A)},e.prototype.isEven=function(){return 0==(1&this.words[0])},e.prototype.isOdd=function(){return 1==(1&this.words[0])},e.prototype.andln=function(A){return this.words[0]&A},e.prototype.bincn=function(A){g("number"==typeof A);var M=A%26,t=(A-M)/26,I=1<<M;if(this.length<=t)return this._expand(t+1),this.words[t]|=I,this;for(var e=I,i=t;0!==e&&i<this.length;i++){var T=0|this.words[i];e=(T+=e)>>>26,T&=67108863,this.words[i]=T}return 0!==e&&(this.words[i]=e,this.length++),this},e.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},e.prototype.cmpn=function(A){var M,t=A<0;if(0!==this.negative&&!t)return-1;if(0===this.negative&&t)return 1;if(this.strip(),this.length>1)M=1;else{t&&(A=-A),g(A<=67108863,"Number is too big");var I=0|this.words[0];M=I===A?0:I<A?-1:1}return 0!==this.negative?0|-M:M},e.prototype.cmp=function(A){if(0!==this.negative&&0===A.negative)return-1;if(0===this.negative&&0!==A.negative)return 1;var M=this.ucmp(A);return 0!==this.negative?0|-M:M},e.prototype.ucmp=function(A){if(this.length>A.length)return 1;if(this.length<A.length)return-1;for(var M=0,t=this.length-1;t>=0;t--){var g=0|this.words[t],I=0|A.words[t];if(g!==I){g<I?M=-1:g>I&&(M=1);break}}return M},e.prototype.gtn=function(A){return 1===this.cmpn(A)},e.prototype.gt=function(A){return 1===this.cmp(A)},e.prototype.gten=function(A){return this.cmpn(A)>=0},e.prototype.gte=function(A){return this.cmp(A)>=0},e.prototype.ltn=function(A){return-1===this.cmpn(A)},e.prototype.lt=function(A){return-1===this.cmp(A)},e.prototype.lten=function(A){return this.cmpn(A)<=0},e.prototype.lte=function(A){return this.cmp(A)<=0},e.prototype.eqn=function(A){return 0===this.cmpn(A)},e.prototype.eq=function(A){return 0===this.cmp(A)},e.red=function(A){return new w(A)},e.prototype.toRed=function(A){return g(!this.red,"Already a number in reduction context"),g(0===this.negative,"red works only with positives"),A.convertTo(this)._forceRed(A)},e.prototype.fromRed=function(){return g(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},e.prototype._forceRed=function(A){return this.red=A,this},e.prototype.forceRed=function(A){return g(!this.red,"Already a number in reduction context"),this._forceRed(A)},e.prototype.redAdd=function(A){return g(this.red,"redAdd works only with red numbers"),this.red.add(this,A)},e.prototype.redIAdd=function(A){return g(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,A)},e.prototype.redSub=function(A){return g(this.red,"redSub works only with red numbers"),this.red.sub(this,A)},e.prototype.redISub=function(A){return g(this.red,"redISub works only with red numbers"),this.red.isub(this,A)},e.prototype.redShl=function(A){return g(this.red,"redShl works only with red numbers"),this.red.shl(this,A)},e.prototype.redMul=function(A){return g(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.mul(this,A)},e.prototype.redIMul=function(A){return g(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.imul(this,A)},e.prototype.redSqr=function(){return g(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},e.prototype.redISqr=function(){return g(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},e.prototype.redSqrt=function(){return g(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},e.prototype.redInvm=function(){return g(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},e.prototype.redNeg=function(){return g(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},e.prototype.redPow=function(A){return g(this.red&&!A.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,A)};var B={k256:null,p224:null,p192:null,p25519:null};function Q(A,M){this.name=A,this.p=new e(M,16),this.n=this.p.bitLength(),this.k=new e(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function a(){Q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function h(){Q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function s(){Q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function y(){Q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function w(A){if("string"==typeof A){var M=e._prime(A);this.m=M.p,this.prime=M}else g(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function j(A){w.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new e(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Q.prototype._tmp=function(){var A=new e(null);return A.words=new Array(Math.ceil(this.n/13)),A},Q.prototype.ireduce=function(A){var M,t=A;do{this.split(t,this.tmp),M=(t=(t=this.imulK(t)).iadd(this.tmp)).bitLength()}while(M>this.n);var g=M<this.n?-1:t.ucmp(this.p);return 0===g?(t.words[0]=0,t.length=1):g>0?t.isub(this.p):void 0!==t.strip?t.strip():t._strip(),t},Q.prototype.split=function(A,M){A.iushrn(this.n,0,M)},Q.prototype.imulK=function(A){return A.imul(this.k)},I(a,Q),a.prototype.split=function(A,M){for(var t=Math.min(A.length,9),g=0;g<t;g++)M.words[g]=A.words[g];if(M.length=t,A.length<=9)return A.words[0]=0,void(A.length=1);var I=A.words[9];for(M.words[M.length++]=4194303&I,g=10;g<A.length;g++){var e=0|A.words[g];A.words[g-10]=(4194303&e)<<4|I>>>22,I=e}I>>>=22,A.words[g-10]=I,0===I&&A.length>10?A.length-=10:A.length-=9},a.prototype.imulK=function(A){A.words[A.length]=0,A.words[A.length+1]=0,A.length+=2;for(var M=0,t=0;t<A.length;t++){var g=0|A.words[t];M+=977*g,A.words[t]=67108863&M,M=64*g+(M/67108864|0)}return 0===A.words[A.length-1]&&(A.length--,0===A.words[A.length-1]&&A.length--),A},I(h,Q),I(s,Q),I(y,Q),y.prototype.imulK=function(A){for(var M=0,t=0;t<A.length;t++){var g=19*(0|A.words[t])+M,I=67108863&g;g>>>=26,A.words[t]=I,M=g}return 0!==M&&(A.words[A.length++]=M),A},e._prime=function(A){if(B[A])return B[A];var M;if("k256"===A)M=new a;else if("p224"===A)M=new h;else if("p192"===A)M=new s;else{if("p25519"!==A)throw new Error("Unknown prime "+A);M=new y}return B[A]=M,M},w.prototype._verify1=function(A){g(0===A.negative,"red works only with positives"),g(A.red,"red works only with red numbers")},w.prototype._verify2=function(A,M){g(0==(A.negative|M.negative),"red works only with positives"),g(A.red&&A.red===M.red,"red works only with red numbers")},w.prototype.imod=function(A){return this.prime?this.prime.ireduce(A)._forceRed(this):A.umod(this.m)._forceRed(this)},w.prototype.neg=function(A){return A.isZero()?A.clone():this.m.sub(A)._forceRed(this)},w.prototype.add=function(A,M){this._verify2(A,M);var t=A.add(M);return t.cmp(this.m)>=0&&t.isub(this.m),t._forceRed(this)},w.prototype.iadd=function(A,M){this._verify2(A,M);var t=A.iadd(M);return t.cmp(this.m)>=0&&t.isub(this.m),t},w.prototype.sub=function(A,M){this._verify2(A,M);var t=A.sub(M);return t.cmpn(0)<0&&t.iadd(this.m),t._forceRed(this)},w.prototype.isub=function(A,M){this._verify2(A,M);var t=A.isub(M);return t.cmpn(0)<0&&t.iadd(this.m),t},w.prototype.shl=function(A,M){return this._verify1(A),this.imod(A.ushln(M))},w.prototype.imul=function(A,M){return this._verify2(A,M),this.imod(A.imul(M))},w.prototype.mul=function(A,M){return this._verify2(A,M),this.imod(A.mul(M))},w.prototype.isqr=function(A){return this.imul(A,A.clone())},w.prototype.sqr=function(A){return this.mul(A,A)},w.prototype.sqrt=function(A){if(A.isZero())return A.clone();var M=this.m.andln(3);if(g(M%2==1),3===M){var t=this.m.add(new e(1)).iushrn(2);return this.pow(A,t)}for(var I=this.m.subn(1),i=0;!I.isZero()&&0===I.andln(1);)i++,I.iushrn(1);g(!I.isZero());var T=new e(1).toRed(this),E=T.redNeg(),N=this.m.subn(1).iushrn(1),n=this.m.bitLength();for(n=new e(2*n*n).toRed(this);0!==this.pow(n,N).cmp(E);)n.redIAdd(E);for(var D=this.pow(n,I),C=this.pow(A,I.addn(1).iushrn(1)),r=this.pow(A,I),c=i;0!==r.cmp(T);){for(var o=r,B=0;0!==o.cmp(T);B++)o=o.redSqr();g(B<c);var Q=this.pow(D,new e(1).iushln(c-B-1));C=C.redMul(Q),D=Q.redSqr(),r=r.redMul(D),c=B}return C},w.prototype.invm=function(A){var M=A._invmp(this.m);return 0!==M.negative?(M.negative=0,this.imod(M).redNeg()):this.imod(M)},w.prototype.pow=function(A,M){if(M.isZero())return new e(1).toRed(this);if(0===M.cmpn(1))return A.clone();var t=new Array(16);t[0]=new e(1).toRed(this),t[1]=A;for(var g=2;g<t.length;g++)t[g]=this.mul(t[g-1],A);var I=t[0],i=0,T=0,E=M.bitLength()%26;for(0===E&&(E=26),g=M.length-1;g>=0;g--){for(var N=M.words[g],n=E-1;n>=0;n--){var D=N>>n&1;I!==t[0]&&(I=this.sqr(I)),0!==D||0!==i?(i<<=1,i|=D,(4===++T||0===g&&0===n)&&(I=this.mul(I,t[i]),T=0,i=0)):T=0}E=26}return I},w.prototype.convertTo=function(A){var M=A.umod(this.m);return M===A?M.clone():M},w.prototype.convertFrom=function(A){var M=A.clone();return M.red=null,M},e.mont=function(A){return new j(A)},I(j,w),j.prototype.convertTo=function(A){return this.imod(A.ushln(this.shift))},j.prototype.convertFrom=function(A){var M=this.imod(A.mul(this.rinv));return M.red=null,M},j.prototype.imul=function(A,M){if(A.isZero()||M.isZero())return A.words[0]=0,A.length=1,A;var t=A.imul(M),g=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=t.isub(g).iushrn(this.shift),e=I;return I.cmp(this.m)>=0?e=I.isub(this.m):I.cmpn(0)<0&&(e=I.iadd(this.m)),e._forceRed(this)},j.prototype.mul=function(A,M){if(A.isZero()||M.isZero())return new e(0)._forceRed(this);var t=A.mul(M),g=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=t.isub(g).iushrn(this.shift),i=I;return I.cmp(this.m)>=0?i=I.isub(this.m):I.cmpn(0)<0&&(i=I.iadd(this.m)),i._forceRed(this)},j.prototype.invm=function(A){return this.imod(A._invmp(this.m).mul(this.r2))._forceRed(this)}}(A,this)}).call(this,t(93)(A))},function(A,M){var t,g,I=A.exports={};function e(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function T(A){if(t===setTimeout)return setTimeout(A,0);if((t===e||!t)&&setTimeout)return t=setTimeout,setTimeout(A,0);try{return t(A,0)}catch(M){try{return t.call(null,A,0)}catch(M){return t.call(this,A,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:e}catch(A){t=e}try{g="function"==typeof clearTimeout?clearTimeout:i}catch(A){g=i}}();var E,N=[],n=!1,D=-1;function C(){n&&E&&(n=!1,E.length?N=E.concat(N):D=-1,N.length&&r())}function r(){if(!n){var A=T(C);n=!0;for(var M=N.length;M;){for(E=N,N=[];++D<M;)E&&E[D].run();D=-1,M=N.length}E=null,n=!1,function(A){if(g===clearTimeout)return clearTimeout(A);if((g===i||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(A);try{g(A)}catch(M){try{return g.call(null,A)}catch(M){return g.call(this,A)}}}(A)}}function c(A,M){this.fun=A,this.array=M}function o(){}I.nextTick=function(A){var M=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)M[t-1]=arguments[t];N.push(new c(A,M)),1!==N.length||n||T(r)},c.prototype.run=function(){this.fun.apply(null,this.array)},I.title="browser",I.browser=!0,I.env={},I.argv=[],I.version="",I.versions={},I.on=o,I.addListener=o,I.once=o,I.off=o,I.removeListener=o,I.removeAllListeners=o,I.emit=o,I.prependListener=o,I.prependOnceListener=o,I.listeners=function(A){return[]},I.binding=function(A){throw new Error("process.binding is not supported")},I.cwd=function(){return"/"},I.chdir=function(A){throw new Error("process.chdir is not supported")},I.umask=function(){return 0}},function(A,M,t){"use strict";(function(A){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var g=t(111),I=t(112),e=t(60);function i(){return E.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function T(A,M){if(i()<M)throw new RangeError("Invalid typed array length");return E.TYPED_ARRAY_SUPPORT?(A=new Uint8Array(M)).__proto__=E.prototype:(null===A&&(A=new E(M)),A.length=M),A}function E(A,M,t){if(!(E.TYPED_ARRAY_SUPPORT||this instanceof E))return new E(A,M,t);if("number"==typeof A){if("string"==typeof M)throw new Error("If encoding is specified then the first argument must be a string");return D(this,A)}return N(this,A,M,t)}function N(A,M,t,g){if("number"==typeof M)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&M instanceof ArrayBuffer?function(A,M,t,g){if(M.byteLength,t<0||M.byteLength<t)throw new RangeError("'offset' is out of bounds");if(M.byteLength<t+(g||0))throw new RangeError("'length' is out of bounds");M=void 0===t&&void 0===g?new Uint8Array(M):void 0===g?new Uint8Array(M,t):new Uint8Array(M,t,g);E.TYPED_ARRAY_SUPPORT?(A=M).__proto__=E.prototype:A=C(A,M);return A}(A,M,t,g):"string"==typeof M?function(A,M,t){"string"==typeof t&&""!==t||(t="utf8");if(!E.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var g=0|c(M,t),I=(A=T(A,g)).write(M,t);I!==g&&(A=A.slice(0,I));return A}(A,M,t):function(A,M){if(E.isBuffer(M)){var t=0|r(M.length);return 0===(A=T(A,t)).length||M.copy(A,0,0,t),A}if(M){if("undefined"!=typeof ArrayBuffer&&M.buffer instanceof ArrayBuffer||"length"in M)return"number"!=typeof M.length||(g=M.length)!=g?T(A,0):C(A,M);if("Buffer"===M.type&&e(M.data))return C(A,M.data)}var g;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(A,M)}function n(A){if("number"!=typeof A)throw new TypeError('"size" argument must be a number');if(A<0)throw new RangeError('"size" argument must not be negative')}function D(A,M){if(n(M),A=T(A,M<0?0:0|r(M)),!E.TYPED_ARRAY_SUPPORT)for(var t=0;t<M;++t)A[t]=0;return A}function C(A,M){var t=M.length<0?0:0|r(M.length);A=T(A,t);for(var g=0;g<t;g+=1)A[g]=255&M[g];return A}function r(A){if(A>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|A}function c(A,M){if(E.isBuffer(A))return A.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(A)||A instanceof ArrayBuffer))return A.byteLength;"string"!=typeof A&&(A=""+A);var t=A.length;if(0===t)return 0;for(var g=!1;;)switch(M){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":case void 0:return b(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t;case"hex":return t>>>1;case"base64":return G(A).length;default:if(g)return b(A).length;M=(""+M).toLowerCase(),g=!0}}function o(A,M,t){var g=!1;if((void 0===M||M<0)&&(M=0),M>this.length)return"";if((void 0===t||t>this.length)&&(t=this.length),t<=0)return"";if((t>>>=0)<=(M>>>=0))return"";for(A||(A="utf8");;)switch(A){case"hex":return S(this,M,t);case"utf8":case"utf-8":return x(this,M,t);case"ascii":return Y(this,M,t);case"latin1":case"binary":return u(this,M,t);case"base64":return d(this,M,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,M,t);default:if(g)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),g=!0}}function B(A,M,t){var g=A[M];A[M]=A[t],A[t]=g}function Q(A,M,t,g,I){if(0===A.length)return-1;if("string"==typeof t?(g=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,isNaN(t)&&(t=I?0:A.length-1),t<0&&(t=A.length+t),t>=A.length){if(I)return-1;t=A.length-1}else if(t<0){if(!I)return-1;t=0}if("string"==typeof M&&(M=E.from(M,g)),E.isBuffer(M))return 0===M.length?-1:a(A,M,t,g,I);if("number"==typeof M)return M&=255,E.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?I?Uint8Array.prototype.indexOf.call(A,M,t):Uint8Array.prototype.lastIndexOf.call(A,M,t):a(A,[M],t,g,I);throw new TypeError("val must be string, number or Buffer")}function a(A,M,t,g,I){var e,i=1,T=A.length,E=M.length;if(void 0!==g&&("ucs2"===(g=String(g).toLowerCase())||"ucs-2"===g||"utf16le"===g||"utf-16le"===g)){if(A.length<2||M.length<2)return-1;i=2,T/=2,E/=2,t/=2}function N(A,M){return 1===i?A[M]:A.readUInt16BE(M*i)}if(I){var n=-1;for(e=t;e<T;e++)if(N(A,e)===N(M,-1===n?0:e-n)){if(-1===n&&(n=e),e-n+1===E)return n*i}else-1!==n&&(e-=e-n),n=-1}else for(t+E>T&&(t=T-E),e=t;e>=0;e--){for(var D=!0,C=0;C<E;C++)if(N(A,e+C)!==N(M,C)){D=!1;break}if(D)return e}return-1}function h(A,M,t,g){t=Number(t)||0;var I=A.length-t;g?(g=Number(g))>I&&(g=I):g=I;var e=M.length;if(e%2!=0)throw new TypeError("Invalid hex string");g>e/2&&(g=e/2);for(var i=0;i<g;++i){var T=parseInt(M.substr(2*i,2),16);if(isNaN(T))return i;A[t+i]=T}return i}function s(A,M,t,g){return J(b(M,A.length-t),A,t,g)}function y(A,M,t,g){return J(function(A){for(var M=[],t=0;t<A.length;++t)M.push(255&A.charCodeAt(t));return M}(M),A,t,g)}function w(A,M,t,g){return y(A,M,t,g)}function j(A,M,t,g){return J(G(M),A,t,g)}function L(A,M,t,g){return J(function(A,M){for(var t,g,I,e=[],i=0;i<A.length&&!((M-=2)<0);++i)t=A.charCodeAt(i),g=t>>8,I=t%256,e.push(I),e.push(g);return e}(M,A.length-t),A,t,g)}function d(A,M,t){return 0===M&&t===A.length?g.fromByteArray(A):g.fromByteArray(A.slice(M,t))}function x(A,M,t){t=Math.min(A.length,t);for(var g=[],I=M;I<t;){var e,i,T,E,N=A[I],n=null,D=N>239?4:N>223?3:N>191?2:1;if(I+D<=t)switch(D){case 1:N<128&&(n=N);break;case 2:128==(192&(e=A[I+1]))&&(E=(31&N)<<6|63&e)>127&&(n=E);break;case 3:e=A[I+1],i=A[I+2],128==(192&e)&&128==(192&i)&&(E=(15&N)<<12|(63&e)<<6|63&i)>2047&&(E<55296||E>57343)&&(n=E);break;case 4:e=A[I+1],i=A[I+2],T=A[I+3],128==(192&e)&&128==(192&i)&&128==(192&T)&&(E=(15&N)<<18|(63&e)<<12|(63&i)<<6|63&T)>65535&&E<1114112&&(n=E)}null===n?(n=65533,D=1):n>65535&&(n-=65536,g.push(n>>>10&1023|55296),n=56320|1023&n),g.push(n),I+=D}return function(A){var M=A.length;if(M<=4096)return String.fromCharCode.apply(String,A);var t="",g=0;for(;g<M;)t+=String.fromCharCode.apply(String,A.slice(g,g+=4096));return t}(g)}M.Buffer=E,M.SlowBuffer=function(A){+A!=A&&(A=0);return E.alloc(+A)},M.INSPECT_MAX_BYTES=50,E.TYPED_ARRAY_SUPPORT=void 0!==A.TYPED_ARRAY_SUPPORT?A.TYPED_ARRAY_SUPPORT:function(){try{var A=new Uint8Array(1);return A.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===A.foo()&&"function"==typeof A.subarray&&0===A.subarray(1,1).byteLength}catch(A){return!1}}(),M.kMaxLength=i(),E.poolSize=8192,E._augment=function(A){return A.__proto__=E.prototype,A},E.from=function(A,M,t){return N(null,A,M,t)},E.TYPED_ARRAY_SUPPORT&&(E.prototype.__proto__=Uint8Array.prototype,E.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&E[Symbol.species]===E&&Object.defineProperty(E,Symbol.species,{value:null,configurable:!0})),E.alloc=function(A,M,t){return function(A,M,t,g){return n(M),M<=0?T(A,M):void 0!==t?"string"==typeof g?T(A,M).fill(t,g):T(A,M).fill(t):T(A,M)}(null,A,M,t)},E.allocUnsafe=function(A){return D(null,A)},E.allocUnsafeSlow=function(A){return D(null,A)},E.isBuffer=function(A){return!(null==A||!A._isBuffer)},E.compare=function(A,M){if(!E.isBuffer(A)||!E.isBuffer(M))throw new TypeError("Arguments must be Buffers");if(A===M)return 0;for(var t=A.length,g=M.length,I=0,e=Math.min(t,g);I<e;++I)if(A[I]!==M[I]){t=A[I],g=M[I];break}return t<g?-1:g<t?1:0},E.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.concat=function(A,M){if(!e(A))throw new TypeError('"list" argument must be an Array of Buffers');if(0===A.length)return E.alloc(0);var t;if(void 0===M)for(M=0,t=0;t<A.length;++t)M+=A[t].length;var g=E.allocUnsafe(M),I=0;for(t=0;t<A.length;++t){var i=A[t];if(!E.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(g,I),I+=i.length}return g},E.byteLength=c,E.prototype._isBuffer=!0,E.prototype.swap16=function(){var A=this.length;if(A%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var M=0;M<A;M+=2)B(this,M,M+1);return this},E.prototype.swap32=function(){var A=this.length;if(A%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var M=0;M<A;M+=4)B(this,M,M+3),B(this,M+1,M+2);return this},E.prototype.swap64=function(){var A=this.length;if(A%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var M=0;M<A;M+=8)B(this,M,M+7),B(this,M+1,M+6),B(this,M+2,M+5),B(this,M+3,M+4);return this},E.prototype.toString=function(){var A=0|this.length;return 0===A?"":0===arguments.length?x(this,0,A):o.apply(this,arguments)},E.prototype.equals=function(A){if(!E.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A||0===E.compare(this,A)},E.prototype.inspect=function(){var A="",t=M.INSPECT_MAX_BYTES;return this.length>0&&(A=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(A+=" ... ")),"<Buffer "+A+">"},E.prototype.compare=function(A,M,t,g,I){if(!E.isBuffer(A))throw new TypeError("Argument must be a Buffer");if(void 0===M&&(M=0),void 0===t&&(t=A?A.length:0),void 0===g&&(g=0),void 0===I&&(I=this.length),M<0||t>A.length||g<0||I>this.length)throw new RangeError("out of range index");if(g>=I&&M>=t)return 0;if(g>=I)return-1;if(M>=t)return 1;if(this===A)return 0;for(var e=(I>>>=0)-(g>>>=0),i=(t>>>=0)-(M>>>=0),T=Math.min(e,i),N=this.slice(g,I),n=A.slice(M,t),D=0;D<T;++D)if(N[D]!==n[D]){e=N[D],i=n[D];break}return e<i?-1:i<e?1:0},E.prototype.includes=function(A,M,t){return-1!==this.indexOf(A,M,t)},E.prototype.indexOf=function(A,M,t){return Q(this,A,M,t,!0)},E.prototype.lastIndexOf=function(A,M,t){return Q(this,A,M,t,!1)},E.prototype.write=function(A,M,t,g){if(void 0===M)g="utf8",t=this.length,M=0;else if(void 0===t&&"string"==typeof M)g=M,t=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M|=0,isFinite(t)?(t|=0,void 0===g&&(g="utf8")):(g=t,t=void 0)}var I=this.length-M;if((void 0===t||t>I)&&(t=I),A.length>0&&(t<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");g||(g="utf8");for(var e=!1;;)switch(g){case"hex":return h(this,A,M,t);case"utf8":case"utf-8":return s(this,A,M,t);case"ascii":return y(this,A,M,t);case"latin1":case"binary":return w(this,A,M,t);case"base64":return j(this,A,M,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,A,M,t);default:if(e)throw new TypeError("Unknown encoding: "+g);g=(""+g).toLowerCase(),e=!0}},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Y(A,M,t){var g="";t=Math.min(A.length,t);for(var I=M;I<t;++I)g+=String.fromCharCode(127&A[I]);return g}function u(A,M,t){var g="";t=Math.min(A.length,t);for(var I=M;I<t;++I)g+=String.fromCharCode(A[I]);return g}function S(A,M,t){var g=A.length;(!M||M<0)&&(M=0),(!t||t<0||t>g)&&(t=g);for(var I="",e=M;e<t;++e)I+=p(A[e]);return I}function l(A,M,t){for(var g=A.slice(M,t),I="",e=0;e<g.length;e+=2)I+=String.fromCharCode(g[e]+256*g[e+1]);return I}function z(A,M,t){if(A%1!=0||A<0)throw new RangeError("offset is not uint");if(A+M>t)throw new RangeError("Trying to access beyond buffer length")}function U(A,M,t,g,I,e){if(!E.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(M>I||M<e)throw new RangeError('"value" argument is out of bounds');if(t+g>A.length)throw new RangeError("Index out of range")}function f(A,M,t,g){M<0&&(M=65535+M+1);for(var I=0,e=Math.min(A.length-t,2);I<e;++I)A[t+I]=(M&255<<8*(g?I:1-I))>>>8*(g?I:1-I)}function O(A,M,t,g){M<0&&(M=4294967295+M+1);for(var I=0,e=Math.min(A.length-t,4);I<e;++I)A[t+I]=M>>>8*(g?I:3-I)&255}function m(A,M,t,g,I,e){if(t+g>A.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function F(A,M,t,g,e){return e||m(A,0,t,4),I.write(A,M,t,g,23,4),t+4}function R(A,M,t,g,e){return e||m(A,0,t,8),I.write(A,M,t,g,52,8),t+8}E.prototype.slice=function(A,M){var t,g=this.length;if((A=~~A)<0?(A+=g)<0&&(A=0):A>g&&(A=g),(M=void 0===M?g:~~M)<0?(M+=g)<0&&(M=0):M>g&&(M=g),M<A&&(M=A),E.TYPED_ARRAY_SUPPORT)(t=this.subarray(A,M)).__proto__=E.prototype;else{var I=M-A;t=new E(I,void 0);for(var e=0;e<I;++e)t[e]=this[e+A]}return t},E.prototype.readUIntLE=function(A,M,t){A|=0,M|=0,t||z(A,M,this.length);for(var g=this[A],I=1,e=0;++e<M&&(I*=256);)g+=this[A+e]*I;return g},E.prototype.readUIntBE=function(A,M,t){A|=0,M|=0,t||z(A,M,this.length);for(var g=this[A+--M],I=1;M>0&&(I*=256);)g+=this[A+--M]*I;return g},E.prototype.readUInt8=function(A,M){return M||z(A,1,this.length),this[A]},E.prototype.readUInt16LE=function(A,M){return M||z(A,2,this.length),this[A]|this[A+1]<<8},E.prototype.readUInt16BE=function(A,M){return M||z(A,2,this.length),this[A]<<8|this[A+1]},E.prototype.readUInt32LE=function(A,M){return M||z(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+16777216*this[A+3]},E.prototype.readUInt32BE=function(A,M){return M||z(A,4,this.length),16777216*this[A]+(this[A+1]<<16|this[A+2]<<8|this[A+3])},E.prototype.readIntLE=function(A,M,t){A|=0,M|=0,t||z(A,M,this.length);for(var g=this[A],I=1,e=0;++e<M&&(I*=256);)g+=this[A+e]*I;return g>=(I*=128)&&(g-=Math.pow(2,8*M)),g},E.prototype.readIntBE=function(A,M,t){A|=0,M|=0,t||z(A,M,this.length);for(var g=M,I=1,e=this[A+--g];g>0&&(I*=256);)e+=this[A+--g]*I;return e>=(I*=128)&&(e-=Math.pow(2,8*M)),e},E.prototype.readInt8=function(A,M){return M||z(A,1,this.length),128&this[A]?-1*(255-this[A]+1):this[A]},E.prototype.readInt16LE=function(A,M){M||z(A,2,this.length);var t=this[A]|this[A+1]<<8;return 32768&t?4294901760|t:t},E.prototype.readInt16BE=function(A,M){M||z(A,2,this.length);var t=this[A+1]|this[A]<<8;return 32768&t?4294901760|t:t},E.prototype.readInt32LE=function(A,M){return M||z(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},E.prototype.readInt32BE=function(A,M){return M||z(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},E.prototype.readFloatLE=function(A,M){return M||z(A,4,this.length),I.read(this,A,!0,23,4)},E.prototype.readFloatBE=function(A,M){return M||z(A,4,this.length),I.read(this,A,!1,23,4)},E.prototype.readDoubleLE=function(A,M){return M||z(A,8,this.length),I.read(this,A,!0,52,8)},E.prototype.readDoubleBE=function(A,M){return M||z(A,8,this.length),I.read(this,A,!1,52,8)},E.prototype.writeUIntLE=function(A,M,t,g){(A=+A,M|=0,t|=0,g)||U(this,A,M,t,Math.pow(2,8*t)-1,0);var I=1,e=0;for(this[M]=255&A;++e<t&&(I*=256);)this[M+e]=A/I&255;return M+t},E.prototype.writeUIntBE=function(A,M,t,g){(A=+A,M|=0,t|=0,g)||U(this,A,M,t,Math.pow(2,8*t)-1,0);var I=t-1,e=1;for(this[M+I]=255&A;--I>=0&&(e*=256);)this[M+I]=A/e&255;return M+t},E.prototype.writeUInt8=function(A,M,t){return A=+A,M|=0,t||U(this,A,M,1,255,0),E.TYPED_ARRAY_SUPPORT||(A=Math.floor(A)),this[M]=255&A,M+1},E.prototype.writeUInt16LE=function(A,M,t){return A=+A,M|=0,t||U(this,A,M,2,65535,0),E.TYPED_ARRAY_SUPPORT?(this[M]=255&A,this[M+1]=A>>>8):f(this,A,M,!0),M+2},E.prototype.writeUInt16BE=function(A,M,t){return A=+A,M|=0,t||U(this,A,M,2,65535,0),E.TYPED_ARRAY_SUPPORT?(this[M]=A>>>8,this[M+1]=255&A):f(this,A,M,!1),M+2},E.prototype.writeUInt32LE=function(A,M,t){return A=+A,M|=0,t||U(this,A,M,4,4294967295,0),E.TYPED_ARRAY_SUPPORT?(this[M+3]=A>>>24,this[M+2]=A>>>16,this[M+1]=A>>>8,this[M]=255&A):O(this,A,M,!0),M+4},E.prototype.writeUInt32BE=function(A,M,t){return A=+A,M|=0,t||U(this,A,M,4,4294967295,0),E.TYPED_ARRAY_SUPPORT?(this[M]=A>>>24,this[M+1]=A>>>16,this[M+2]=A>>>8,this[M+3]=255&A):O(this,A,M,!1),M+4},E.prototype.writeIntLE=function(A,M,t,g){if(A=+A,M|=0,!g){var I=Math.pow(2,8*t-1);U(this,A,M,t,I-1,-I)}var e=0,i=1,T=0;for(this[M]=255&A;++e<t&&(i*=256);)A<0&&0===T&&0!==this[M+e-1]&&(T=1),this[M+e]=(A/i>>0)-T&255;return M+t},E.prototype.writeIntBE=function(A,M,t,g){if(A=+A,M|=0,!g){var I=Math.pow(2,8*t-1);U(this,A,M,t,I-1,-I)}var e=t-1,i=1,T=0;for(this[M+e]=255&A;--e>=0&&(i*=256);)A<0&&0===T&&0!==this[M+e+1]&&(T=1),this[M+e]=(A/i>>0)-T&255;return M+t},E.prototype.writeInt8=function(A,M,t){return A=+A,M|=0,t||U(this,A,M,1,127,-128),E.TYPED_ARRAY_SUPPORT||(A=Math.floor(A)),A<0&&(A=255+A+1),this[M]=255&A,M+1},E.prototype.writeInt16LE=function(A,M,t){return A=+A,M|=0,t||U(this,A,M,2,32767,-32768),E.TYPED_ARRAY_SUPPORT?(this[M]=255&A,this[M+1]=A>>>8):f(this,A,M,!0),M+2},E.prototype.writeInt16BE=function(A,M,t){return A=+A,M|=0,t||U(this,A,M,2,32767,-32768),E.TYPED_ARRAY_SUPPORT?(this[M]=A>>>8,this[M+1]=255&A):f(this,A,M,!1),M+2},E.prototype.writeInt32LE=function(A,M,t){return A=+A,M|=0,t||U(this,A,M,4,2147483647,-2147483648),E.TYPED_ARRAY_SUPPORT?(this[M]=255&A,this[M+1]=A>>>8,this[M+2]=A>>>16,this[M+3]=A>>>24):O(this,A,M,!0),M+4},E.prototype.writeInt32BE=function(A,M,t){return A=+A,M|=0,t||U(this,A,M,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),E.TYPED_ARRAY_SUPPORT?(this[M]=A>>>24,this[M+1]=A>>>16,this[M+2]=A>>>8,this[M+3]=255&A):O(this,A,M,!1),M+4},E.prototype.writeFloatLE=function(A,M,t){return F(this,A,M,!0,t)},E.prototype.writeFloatBE=function(A,M,t){return F(this,A,M,!1,t)},E.prototype.writeDoubleLE=function(A,M,t){return R(this,A,M,!0,t)},E.prototype.writeDoubleBE=function(A,M,t){return R(this,A,M,!1,t)},E.prototype.copy=function(A,M,t,g){if(t||(t=0),g||0===g||(g=this.length),M>=A.length&&(M=A.length),M||(M=0),g>0&&g<t&&(g=t),g===t)return 0;if(0===A.length||0===this.length)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(t<0||t>=this.length)throw new RangeError("sourceStart out of bounds");if(g<0)throw new RangeError("sourceEnd out of bounds");g>this.length&&(g=this.length),A.length-M<g-t&&(g=A.length-M+t);var I,e=g-t;if(this===A&&t<M&&M<g)for(I=e-1;I>=0;--I)A[I+M]=this[I+t];else if(e<1e3||!E.TYPED_ARRAY_SUPPORT)for(I=0;I<e;++I)A[I+M]=this[I+t];else Uint8Array.prototype.set.call(A,this.subarray(t,t+e),M);return e},E.prototype.fill=function(A,M,t,g){if("string"==typeof A){if("string"==typeof M?(g=M,M=0,t=this.length):"string"==typeof t&&(g=t,t=this.length),1===A.length){var I=A.charCodeAt(0);I<256&&(A=I)}if(void 0!==g&&"string"!=typeof g)throw new TypeError("encoding must be a string");if("string"==typeof g&&!E.isEncoding(g))throw new TypeError("Unknown encoding: "+g)}else"number"==typeof A&&(A&=255);if(M<0||this.length<M||this.length<t)throw new RangeError("Out of range index");if(t<=M)return this;var e;if(M>>>=0,t=void 0===t?this.length:t>>>0,A||(A=0),"number"==typeof A)for(e=M;e<t;++e)this[e]=A;else{var i=E.isBuffer(A)?A:b(new E(A,g).toString()),T=i.length;for(e=0;e<t-M;++e)this[e+M]=i[e%T]}return this};var k=/[^+\/0-9A-Za-z-_]/g;function p(A){return A<16?"0"+A.toString(16):A.toString(16)}function b(A,M){var t;M=M||1/0;for(var g=A.length,I=null,e=[],i=0;i<g;++i){if((t=A.charCodeAt(i))>55295&&t<57344){if(!I){if(t>56319){(M-=3)>-1&&e.push(239,191,189);continue}if(i+1===g){(M-=3)>-1&&e.push(239,191,189);continue}I=t;continue}if(t<56320){(M-=3)>-1&&e.push(239,191,189),I=t;continue}t=65536+(I-55296<<10|t-56320)}else I&&(M-=3)>-1&&e.push(239,191,189);if(I=null,t<128){if((M-=1)<0)break;e.push(t)}else if(t<2048){if((M-=2)<0)break;e.push(t>>6|192,63&t|128)}else if(t<65536){if((M-=3)<0)break;e.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((M-=4)<0)break;e.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return e}function G(A){return g.toByteArray(function(A){if((A=function(A){return A.trim?A.trim():A.replace(/^\s+|\s+$/g,"")}(A).replace(k,"")).length<2)return"";for(;A.length%4!=0;)A+="=";return A}(A))}function J(A,M,t,g){for(var I=0;I<g&&!(I+t>=M.length||I>=A.length);++I)M[I+t]=A[I];return I}}).call(this,t(10))},function(A,M){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(A){"object"==typeof window&&(t=window)}A.exports=t},function(A,M){function t(A,M){if(!A)throw new Error(M||"Assertion failed")}A.exports=t,t.equal=function(A,M,t){if(A!=M)throw new Error(t||"Assertion failed: "+A+" != "+M)}},function(A,M,t){"use strict";var g=M,I=t(7),e=t(11),i=t(95);g.assert=e,g.toArray=i.toArray,g.zero2=i.zero2,g.toHex=i.toHex,g.encode=i.encode,g.getNAF=function(A,M,t){var g=new Array(Math.max(A.bitLength(),t)+1);g.fill(0);for(var I=1<<M+1,e=A.clone(),i=0;i<g.length;i++){var T,E=e.andln(I-1);e.isOdd()?(T=E>(I>>1)-1?(I>>1)-E:E,e.isubn(T)):T=0,g[i]=T,e.iushrn(1)}return g},g.getJSF=function(A,M){var t=[[],[]];A=A.clone(),M=M.clone();for(var g=0,I=0;A.cmpn(-g)>0||M.cmpn(-I)>0;){var e,i,T,E=A.andln(3)+g&3,N=M.andln(3)+I&3;if(3===E&&(E=-1),3===N&&(N=-1),0==(1&E))e=0;else e=3!==(T=A.andln(7)+g&7)&&5!==T||2!==N?E:-E;if(t[0].push(e),0==(1&N))i=0;else i=3!==(T=M.andln(7)+I&7)&&5!==T||2!==E?N:-N;t[1].push(i),2*g===e+1&&(g=1-g),2*I===i+1&&(I=1-I),A.iushrn(1),M.iushrn(1)}return t},g.cachedProperty=function(A,M,t){var g="_"+M;A.prototype[M]=function(){return void 0!==this[g]?this[g]:this[g]=t.call(this)}},g.parseBytes=function(A){return"string"==typeof A?g.toArray(A,"hex"):A},g.intFromLE=function(A){return new I(A,"hex","le")}},function(A,M,t){"use strict";var g=function(){function A(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}var M=A.prototype;return M.isComplete=function(){var A=!1===this.hasAudio||!0===this.hasAudio&&null!=this.audioCodec&&null!=this.audioSampleRate&&null!=this.audioChannelCount,M=!1===this.hasVideo||!0===this.hasVideo&&null!=this.videoCodec&&null!=this.width&&null!=this.height&&null!=this.fps&&null!=this.profile&&null!=this.level&&null!=this.refFrames&&null!=this.chromaFormat&&null!=this.sarNum&&null!=this.sarDen;return null!=this.mimeType&&null!=this.duration&&null!=this.metadata&&null!=this.hasKeyframesIndex&&A&&M},M.isSeekable=function(){return!0===this.hasKeyframesIndex},M.getNearestKeyframe=function(A){if(null==this.keyframesIndex)return null;var M=this.keyframesIndex,t=this._search(M.times,A);return{index:t,milliseconds:M.times[t],fileposition:M.filepositions[t]}},M._search=function(A,M){var t=0,g=A.length-1,I=0,e=0,i=g;for(M<A[0]&&(t=0,e=i+1);e<=i;){if((I=e+Math.floor((i-e)/2))===g||M>=A[I]&&M<A[I+1]){t=I;break}A[I]<M?e=I+1:i=I-1}return t},A}();M.a=g},function(A,M,t){"use strict";var g=t(11),I=t(3);function e(A,M){return 55296==(64512&A.charCodeAt(M))&&(!(M<0||M+1>=A.length)&&56320==(64512&A.charCodeAt(M+1)))}function i(A){return(A>>>24|A>>>8&65280|A<<8&16711680|(255&A)<<24)>>>0}function T(A){return 1===A.length?"0"+A:A}function E(A){return 7===A.length?"0"+A:6===A.length?"00"+A:5===A.length?"000"+A:4===A.length?"0000"+A:3===A.length?"00000"+A:2===A.length?"000000"+A:1===A.length?"0000000"+A:A}M.inherits=I,M.toArray=function(A,M){if(Array.isArray(A))return A.slice();if(!A)return[];var t=[];if("string"==typeof A)if(M){if("hex"===M)for((A=A.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(A="0"+A),I=0;I<A.length;I+=2)t.push(parseInt(A[I]+A[I+1],16))}else for(var g=0,I=0;I<A.length;I++){var i=A.charCodeAt(I);i<128?t[g++]=i:i<2048?(t[g++]=i>>6|192,t[g++]=63&i|128):e(A,I)?(i=65536+((1023&i)<<10)+(1023&A.charCodeAt(++I)),t[g++]=i>>18|240,t[g++]=i>>12&63|128,t[g++]=i>>6&63|128,t[g++]=63&i|128):(t[g++]=i>>12|224,t[g++]=i>>6&63|128,t[g++]=63&i|128)}else for(I=0;I<A.length;I++)t[I]=0|A[I];return t},M.toHex=function(A){for(var M="",t=0;t<A.length;t++)M+=T(A[t].toString(16));return M},M.htonl=i,M.toHex32=function(A,M){for(var t="",g=0;g<A.length;g++){var I=A[g];"little"===M&&(I=i(I)),t+=E(I.toString(16))}return t},M.zero2=T,M.zero8=E,M.join32=function(A,M,t,I){var e=t-M;g(e%4==0);for(var i=new Array(e/4),T=0,E=M;T<i.length;T++,E+=4){var N;N="big"===I?A[E]<<24|A[E+1]<<16|A[E+2]<<8|A[E+3]:A[E+3]<<24|A[E+2]<<16|A[E+1]<<8|A[E],i[T]=N>>>0}return i},M.split32=function(A,M){for(var t=new Array(4*A.length),g=0,I=0;g<A.length;g++,I+=4){var e=A[g];"big"===M?(t[I]=e>>>24,t[I+1]=e>>>16&255,t[I+2]=e>>>8&255,t[I+3]=255&e):(t[I+3]=e>>>24,t[I+2]=e>>>16&255,t[I+1]=e>>>8&255,t[I]=255&e)}return t},M.rotr32=function(A,M){return A>>>M|A<<32-M},M.rotl32=function(A,M){return A<<M|A>>>32-M},M.sum32=function(A,M){return A+M>>>0},M.sum32_3=function(A,M,t){return A+M+t>>>0},M.sum32_4=function(A,M,t,g){return A+M+t+g>>>0},M.sum32_5=function(A,M,t,g,I){return A+M+t+g+I>>>0},M.sum64=function(A,M,t,g){var I=A[M],e=g+A[M+1]>>>0,i=(e<g?1:0)+t+I;A[M]=i>>>0,A[M+1]=e},M.sum64_hi=function(A,M,t,g){return(M+g>>>0<M?1:0)+A+t>>>0},M.sum64_lo=function(A,M,t,g){return M+g>>>0},M.sum64_4_hi=function(A,M,t,g,I,e,i,T){var E=0,N=M;return E+=(N=N+g>>>0)<M?1:0,E+=(N=N+e>>>0)<e?1:0,A+t+I+i+(E+=(N=N+T>>>0)<T?1:0)>>>0},M.sum64_4_lo=function(A,M,t,g,I,e,i,T){return M+g+e+T>>>0},M.sum64_5_hi=function(A,M,t,g,I,e,i,T,E,N){var n=0,D=M;return n+=(D=D+g>>>0)<M?1:0,n+=(D=D+e>>>0)<e?1:0,n+=(D=D+T>>>0)<T?1:0,A+t+I+i+E+(n+=(D=D+N>>>0)<N?1:0)>>>0},M.sum64_5_lo=function(A,M,t,g,I,e,i,T,E,N){return M+g+e+T+N>>>0},M.rotr64_hi=function(A,M,t){return(M<<32-t|A>>>t)>>>0},M.rotr64_lo=function(A,M,t){return(A<<32-t|M>>>t)>>>0},M.shr64_hi=function(A,M,t){return A>>>t},M.shr64_lo=function(A,M,t){return(A<<32-t|M>>>t)>>>0}},function(A,M,t){var g=t(4).Buffer,I=t(135).Transform,e=t(24).StringDecoder;function i(A){I.call(this),this.hashMode="string"==typeof A,this.hashMode?this[A]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}t(3)(i,I),i.prototype.update=function(A,M,t){"string"==typeof A&&(A=g.from(A,M));var I=this._update(A);return this.hashMode?this:(t&&(I=this._toString(I,t)),I)},i.prototype.setAutoPadding=function(){},i.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},i.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},i.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},i.prototype._transform=function(A,M,t){var g;try{this.hashMode?this._update(A):this.push(this._update(A))}catch(A){g=A}finally{t(g)}},i.prototype._flush=function(A){var M;try{this.push(this.__final())}catch(A){M=A}A(M)},i.prototype._finalOrDigest=function(A){var M=this.__final()||g.alloc(0);return A&&(M=this._toString(M,A,!0)),M},i.prototype._toString=function(A,M,t){if(this._decoder||(this._decoder=new e(M),this._encoding=M),this._encoding!==M)throw new Error("can't switch encodings");var g=this._decoder.write(A);return t&&(g+=this._decoder.end()),g},A.exports=i},function(A,M,t){"use strict";var g=t(31),I=Object.keys||function(A){var M=[];for(var t in A)M.push(t);return M};A.exports=D;var e=Object.create(t(25));e.inherits=t(3);var i=t(73),T=t(43);e.inherits(D,i);for(var E=I(T.prototype),N=0;N<E.length;N++){var n=E[N];D.prototype[n]||(D.prototype[n]=T.prototype[n])}function D(A){if(!(this instanceof D))return new D(A);i.call(this,A),T.call(this,A),A&&!1===A.readable&&(this.readable=!1),A&&!1===A.writable&&(this.writable=!1),this.allowHalfOpen=!0,A&&!1===A.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",C)}function C(){this.allowHalfOpen||this._writableState.ended||g.nextTick(r,this)}function r(A){A.end()}Object.defineProperty(D.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(D.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(A){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=A,this._writableState.destroyed=A)}}),D.prototype._destroy=function(A,M){this.push(null),this.end(),g.nextTick(M,A)}},function(A,M,t){function g(A){var M={};function t(g){if(M[g])return M[g].exports;var I=M[g]={i:g,l:!1,exports:{}};return A[g].call(I.exports,I,I.exports,t),I.l=!0,I.exports}t.m=A,t.c=M,t.i=function(A){return A},t.d=function(A,M,g){t.o(A,M)||Object.defineProperty(A,M,{configurable:!1,enumerable:!0,get:g})},t.r=function(A){Object.defineProperty(A,"__esModule",{value:!0})},t.n=function(A){var M=A&&A.__esModule?function(){return A.default}:function(){return A};return t.d(M,"a",M),M},t.o=function(A,M){return Object.prototype.hasOwnProperty.call(A,M)},t.p="/",t.oe=function(A){throw console.error(A),A};var g=t(t.s=ENTRY_MODULE);return g.default||g}function I(A){return(A+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function e(A,M,g){var e={};e[g]=[];var i=M.toString(),T=i.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!T)return e;for(var E,N=T[1],n=new RegExp("(\\\\n|\\W)"+I(N)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");E=n.exec(i);)"dll-reference"!==E[3]&&e[g].push(E[3]);for(n=new RegExp("\\("+I(N)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");E=n.exec(i);)A[E[2]]||(e[g].push(E[1]),A[E[2]]=t(E[1]).m),e[E[2]]=e[E[2]]||[],e[E[2]].push(E[4]);for(var D,C=Object.keys(e),r=0;r<C.length;r++)for(var c=0;c<e[C[r]].length;c++)D=e[C[r]][c],isNaN(1*D)||(e[C[r]][c]=1*e[C[r]][c]);return e}function i(A){return Object.keys(A).reduce((function(M,t){return M||A[t].length>0}),!1)}A.exports=function(A,M){M=M||{};var I={main:t.m},T=M.all?{main:Object.keys(I.main)}:function(A,M){for(var t={main:[M]},g={main:[]},I={main:{}};i(t);)for(var T=Object.keys(t),E=0;E<T.length;E++){var N=T[E],n=t[N].pop();if(I[N]=I[N]||{},!I[N][n]&&A[N][n]){I[N][n]=!0,g[N]=g[N]||[],g[N].push(n);for(var D=e(A,A[N][n],N),C=Object.keys(D),r=0;r<C.length;r++)t[C[r]]=t[C[r]]||[],t[C[r]]=t[C[r]].concat(D[C[r]])}}return g}(I,A),E="";Object.keys(T).filter((function(A){return"main"!==A})).forEach((function(A){for(var M=0;T[A][M];)M++;T[A].push(M),I[A][M]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",E=E+"var "+A+" = ("+g.toString().replace("ENTRY_MODULE",JSON.stringify(M))+")({"+T[A].map((function(M){return JSON.stringify(M)+": "+I[A][M].toString()})).join(",")+"});\n"})),E=E+"new (("+g.toString().replace("ENTRY_MODULE",JSON.stringify(A))+")({"+T.main.map((function(A){return JSON.stringify(A)+": "+I.main[A].toString()})).join(",")+"}))(self);";var N=new window.Blob([E],{type:"text/javascript"});if(M.bare)return N;var n=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(N),D=new window.Worker(n);return D.objectURL=n,D}},function(A,M,t){"use strict";(function(M,g){var I=t(4).Buffer,e=M.crypto||M.msCrypto;e&&e.getRandomValues?A.exports=function(A,M){if(A>4294967295)throw new RangeError("requested too many random bytes");var t=I.allocUnsafe(A);if(A>0)if(A>65536)for(var i=0;i<A;i+=65536)e.getRandomValues(t.slice(i,i+65536));else e.getRandomValues(t);if("function"==typeof M)return g.nextTick((function(){M(null,t)}));return t}:A.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,t(10),t(8))},function(A,M,t){"use strict";var g={};function I(A,M,t){t||(t=Error);var I=function(A){var t,g;function I(t,g,I){return A.call(this,function(A,t,g){return"string"==typeof M?M:M(A,t,g)}(t,g,I))||this}return g=A,(t=I).prototype=Object.create(g.prototype),t.prototype.constructor=t,t.__proto__=g,I}(t);I.prototype.name=t.name,I.prototype.code=A,g[A]=I}function e(A,M){if(Array.isArray(A)){var t=A.length;return A=A.map((function(A){return String(A)})),t>2?"one of ".concat(M," ").concat(A.slice(0,t-1).join(", "),", or ")+A[t-1]:2===t?"one of ".concat(M," ").concat(A[0]," or ").concat(A[1]):"of ".concat(M," ").concat(A[0])}return"of ".concat(M," ").concat(String(A))}I("ERR_INVALID_OPT_VALUE",(function(A,M){return'The value "'+M+'" is invalid for option "'+A+'"'}),TypeError),I("ERR_INVALID_ARG_TYPE",(function(A,M,t){var g,I,i,T;if("string"==typeof M&&(I="not ",M.substr(!i||i<0?0:+i,I.length)===I)?(g="must not be",M=M.replace(/^not /,"")):g="must be",function(A,M,t){return(void 0===t||t>A.length)&&(t=A.length),A.substring(t-M.length,t)===M}(A," argument"))T="The ".concat(A," ").concat(g," ").concat(e(M,"type"));else{var E=function(A,M,t){return"number"!=typeof t&&(t=0),!(t+M.length>A.length)&&-1!==A.indexOf(M,t)}(A,".")?"property":"argument";T='The "'.concat(A,'" ').concat(E," ").concat(g," ").concat(e(M,"type"))}return T+=". Received type ".concat(typeof t)}),TypeError),I("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),I("ERR_METHOD_NOT_IMPLEMENTED",(function(A){return"The "+A+" method is not implemented"})),I("ERR_STREAM_PREMATURE_CLOSE","Premature close"),I("ERR_STREAM_DESTROYED",(function(A){return"Cannot call "+A+" after a stream was destroyed"})),I("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),I("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),I("ERR_STREAM_WRITE_AFTER_END","write after end"),I("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),I("ERR_UNKNOWN_ENCODING",(function(A){return"Unknown encoding: "+A}),TypeError),I("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),A.exports.codes=g},function(A,M,t){"use strict";(function(M){var g=Object.keys||function(A){var M=[];for(var t in A)M.push(t);return M};A.exports=N;var I=t(64),e=t(68);t(3)(N,I);for(var i=g(e.prototype),T=0;T<i.length;T++){var E=i[T];N.prototype[E]||(N.prototype[E]=e.prototype[E])}function N(A){if(!(this instanceof N))return new N(A);I.call(this,A),e.call(this,A),this.allowHalfOpen=!0,A&&(!1===A.readable&&(this.readable=!1),!1===A.writable&&(this.writable=!1),!1===A.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",n)))}function n(){this._writableState.ended||M.nextTick(D,this)}function D(A){A.end()}Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(N.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(N.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(A){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=A,this._writableState.destroyed=A)}})}).call(this,t(8))},function(A,M,t){var g=t(4).Buffer;function I(A,M){this._block=g.alloc(A),this._finalSize=M,this._blockSize=A,this._len=0}I.prototype.update=function(A,M){"string"==typeof A&&(M=M||"utf8",A=g.from(A,M));for(var t=this._block,I=this._blockSize,e=A.length,i=this._len,T=0;T<e;){for(var E=i%I,N=Math.min(e-T,I-E),n=0;n<N;n++)t[E+n]=A[T+n];T+=N,(i+=N)%I==0&&this._update(t)}return this._len+=e,this},I.prototype.digest=function(A){var M=this._len%this._blockSize;this._block[M]=128,this._block.fill(0,M+1),M>=this._finalSize&&(this._update(this._block),this._block.fill(0));var t=8*this._len;if(t<=4294967295)this._block.writeUInt32BE(t,this._blockSize-4);else{var g=(4294967295&t)>>>0,I=(t-g)/4294967296;this._block.writeUInt32BE(I,this._blockSize-8),this._block.writeUInt32BE(g,this._blockSize-4)}this._update(this._block);var e=this._hash();return A?e.toString(A):e},I.prototype._update=function(){throw new Error("_update must be implemented by subclass")},A.exports=I},function(A,M,t){"use strict";
/*! @name @videojs/vhs-utils @version 1.3.0 @license MIT */var g=function(){function A(){this.listeners={}}var M=A.prototype;return M.on=function(A,M){this.listeners[A]||(this.listeners[A]=[]),this.listeners[A].push(M)},M.off=function(A,M){if(!this.listeners[A])return!1;var t=this.listeners[A].indexOf(M);return this.listeners[A]=this.listeners[A].slice(0),this.listeners[A].splice(t,1),t>-1},M.trigger=function(A){var M=this.listeners[A];if(M)if(2===arguments.length)for(var t=M.length,g=0;g<t;++g)M[g].call(this,arguments[1]);else for(var I=Array.prototype.slice.call(arguments,1),e=M.length,i=0;i<e;++i)M[i].apply(this,I)},M.dispose=function(){this.listeners={}},M.pipe=function(A){this.on("data",(function(M){A.push(M)}))},A}();A.exports=g},function(A,M,t){"use strict";var g=t(3),I=t(37),e=t(39),i=t(40),T=t(15);function E(A){T.call(this,"digest"),this._hash=A}g(E,T),E.prototype._update=function(A){this._hash.update(A)},E.prototype._final=function(){return this._hash.digest()},A.exports=function(A){return"md5"===(A=A.toLowerCase())?new I:"rmd160"===A||"ripemd160"===A?new e:new E(i(A))}},function(A,M,t){"use strict";var g=t(4).Buffer,I=g.isEncoding||function(A){switch((A=""+A)&&A.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function e(A){var M;switch(this.encoding=function(A){var M=function(A){if(!A)return"utf8";for(var M;;)switch(A){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return A;default:if(M)return;A=(""+A).toLowerCase(),M=!0}}(A);if("string"!=typeof M&&(g.isEncoding===I||!I(A)))throw new Error("Unknown encoding: "+A);return M||A}(A),this.encoding){case"utf16le":this.text=E,this.end=N,M=4;break;case"utf8":this.fillLast=T,M=4;break;case"base64":this.text=n,this.end=D,M=3;break;default:return this.write=C,void(this.end=r)}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(M)}function i(A){return A<=127?0:A>>5==6?2:A>>4==14?3:A>>3==30?4:A>>6==2?-1:-2}function T(A){var M=this.lastTotal-this.lastNeed,t=function(A,M,t){if(128!=(192&M[0]))return A.lastNeed=0,"�";if(A.lastNeed>1&&M.length>1){if(128!=(192&M[1]))return A.lastNeed=1,"�";if(A.lastNeed>2&&M.length>2&&128!=(192&M[2]))return A.lastNeed=2,"�"}}(this,A);return void 0!==t?t:this.lastNeed<=A.length?(A.copy(this.lastChar,M,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(A.copy(this.lastChar,M,0,A.length),void(this.lastNeed-=A.length))}function E(A,M){if((A.length-M)%2==0){var t=A.toString("utf16le",M);if(t){var g=t.charCodeAt(t.length-1);if(g>=55296&&g<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=A[A.length-2],this.lastChar[1]=A[A.length-1],t.slice(0,-1)}return t}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=A[A.length-1],A.toString("utf16le",M,A.length-1)}function N(A){var M=A&&A.length?this.write(A):"";if(this.lastNeed){var t=this.lastTotal-this.lastNeed;return M+this.lastChar.toString("utf16le",0,t)}return M}function n(A,M){var t=(A.length-M)%3;return 0===t?A.toString("base64",M):(this.lastNeed=3-t,this.lastTotal=3,1===t?this.lastChar[0]=A[A.length-1]:(this.lastChar[0]=A[A.length-2],this.lastChar[1]=A[A.length-1]),A.toString("base64",M,A.length-t))}function D(A){var M=A&&A.length?this.write(A):"";return this.lastNeed?M+this.lastChar.toString("base64",0,3-this.lastNeed):M}function C(A){return A.toString(this.encoding)}function r(A){return A&&A.length?this.write(A):""}M.StringDecoder=e,e.prototype.write=function(A){if(0===A.length)return"";var M,t;if(this.lastNeed){if(void 0===(M=this.fillLast(A)))return"";t=this.lastNeed,this.lastNeed=0}else t=0;return t<A.length?M?M+this.text(A,t):this.text(A,t):M||""},e.prototype.end=function(A){var M=A&&A.length?this.write(A):"";return this.lastNeed?M+"�":M},e.prototype.text=function(A,M){var t=function(A,M,t){var g=M.length-1;if(g<t)return 0;var I=i(M[g]);if(I>=0)return I>0&&(A.lastNeed=I-1),I;if(--g<t||-2===I)return 0;if((I=i(M[g]))>=0)return I>0&&(A.lastNeed=I-2),I;if(--g<t||-2===I)return 0;if((I=i(M[g]))>=0)return I>0&&(2===I?I=0:A.lastNeed=I-3),I;return 0}(this,A,M);if(!this.lastNeed)return A.toString("utf8",M);this.lastTotal=t;var g=A.length-(t-this.lastNeed);return A.copy(this.lastChar,0,g),A.toString("utf8",M,g)},e.prototype.fillLast=function(A){if(this.lastNeed<=A.length)return A.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);A.copy(this.lastChar,this.lastTotal-this.lastNeed,0,A.length),this.lastNeed-=A.length}},function(A,M,t){(function(A){function t(A){return Object.prototype.toString.call(A)}M.isArray=function(A){return Array.isArray?Array.isArray(A):"[object Array]"===t(A)},M.isBoolean=function(A){return"boolean"==typeof A},M.isNull=function(A){return null===A},M.isNullOrUndefined=function(A){return null==A},M.isNumber=function(A){return"number"==typeof A},M.isString=function(A){return"string"==typeof A},M.isSymbol=function(A){return"symbol"==typeof A},M.isUndefined=function(A){return void 0===A},M.isRegExp=function(A){return"[object RegExp]"===t(A)},M.isObject=function(A){return"object"==typeof A&&null!==A},M.isDate=function(A){return"[object Date]"===t(A)},M.isError=function(A){return"[object Error]"===t(A)||A instanceof Error},M.isFunction=function(A){return"function"==typeof A},M.isPrimitive=function(A){return null===A||"boolean"==typeof A||"number"==typeof A||"string"==typeof A||"symbol"==typeof A||void 0===A},M.isBuffer=A.isBuffer}).call(this,t(9).Buffer)},function(A,M,t){(function(M){A.exports=function(A,t){for(var g=Math.min(A.length,t.length),I=new M(g),e=0;e<g;++e)I[e]=A[e]^t[e];return I}}).call(this,t(9).Buffer)},function(A,M,t){"use strict";var g=t(14),I=t(11);function e(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}M.BlockHash=e,e.prototype.update=function(A,M){if(A=g.toArray(A,M),this.pending?this.pending=this.pending.concat(A):this.pending=A,this.pendingTotal+=A.length,this.pending.length>=this._delta8){var t=(A=this.pending).length%this._delta8;this.pending=A.slice(A.length-t,A.length),0===this.pending.length&&(this.pending=null),A=g.join32(A,0,A.length-t,this.endian);for(var I=0;I<A.length;I+=this._delta32)this._update(A,I,I+this._delta32)}return this},e.prototype.digest=function(A){return this.update(this._pad()),I(null===this.pending),this._digest(A)},e.prototype._pad=function(){var A=this.pendingTotal,M=this._delta8,t=M-(A+this.padLength)%M,g=new Array(t+this.padLength);g[0]=128;for(var I=1;I<t;I++)g[I]=0;if(A<<=3,"big"===this.endian){for(var e=8;e<this.padLength;e++)g[I++]=0;g[I++]=0,g[I++]=0,g[I++]=0,g[I++]=0,g[I++]=A>>>24&255,g[I++]=A>>>16&255,g[I++]=A>>>8&255,g[I++]=255&A}else for(g[I++]=255&A,g[I++]=A>>>8&255,g[I++]=A>>>16&255,g[I++]=A>>>24&255,g[I++]=0,g[I++]=0,g[I++]=0,g[I++]=0,e=8;e<this.padLength;e++)g[I++]=0;return g}},function(A,M,t){"use strict";var g=t(3),I=t(55).Reporter,e=t(53).Buffer;function i(A,M){I.call(this,M),e.isBuffer(A)?(this.base=A,this.offset=0,this.length=A.length):this.error("Input not Buffer")}function T(A,M){if(Array.isArray(A))this.length=0,this.value=A.map((function(A){return T.isEncoderBuffer(A)||(A=new T(A,M)),this.length+=A.length,A}),this);else if("number"==typeof A){if(!(0<=A&&A<=255))return M.error("non-byte EncoderBuffer value");this.value=A,this.length=1}else if("string"==typeof A)this.value=A,this.length=e.byteLength(A);else{if(!e.isBuffer(A))return M.error("Unsupported type: "+typeof A);this.value=A,this.length=A.length}}g(i,I),M.DecoderBuffer=i,i.isDecoderBuffer=function(A){return A instanceof i||"object"==typeof A&&e.isBuffer(A.base)&&"DecoderBuffer"===A.constructor.name&&"number"==typeof A.offset&&"number"==typeof A.length&&"function"==typeof A.save&&"function"==typeof A.restore&&"function"==typeof A.isEmpty&&"function"==typeof A.readUInt8&&"function"==typeof A.skip&&"function"==typeof A.raw},i.prototype.save=function(){return{offset:this.offset,reporter:I.prototype.save.call(this)}},i.prototype.restore=function(A){var M=new i(this.base);return M.offset=A.offset,M.length=this.offset,this.offset=A.offset,I.prototype.restore.call(this,A.reporter),M},i.prototype.isEmpty=function(){return this.offset===this.length},i.prototype.readUInt8=function(A){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(A||"DecoderBuffer overrun")},i.prototype.skip=function(A,M){if(!(this.offset+A<=this.length))return this.error(M||"DecoderBuffer overrun");var t=new i(this.base);return t._reporterState=this._reporterState,t.offset=this.offset,t.length=this.offset+A,this.offset+=A,t},i.prototype.raw=function(A){return this.base.slice(A?A.offset:this.offset,this.length)},M.EncoderBuffer=T,T.isEncoderBuffer=function(A){return A instanceof T||"object"==typeof A&&"EncoderBuffer"===A.constructor.name&&"number"==typeof A.length&&"function"==typeof A.join},T.prototype.join=function(A,M){return A||(A=e.alloc(this.length)),M||(M=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(t){t.join(A,M),M+=t.length})):("number"==typeof this.value?A[M]=this.value:"string"==typeof this.value?A.write(this.value,M):e.isBuffer(this.value)&&this.value.copy(A,M),M+=this.length)),A}},function(A,M,t){"use strict";var g=function(){function A(){this.stopFlag=!1,this.bufferSourcePtr=null}var M=A.prototype;return M.destroy=function(){this.interval&&clearInterval(this.interval),this.samples=null,this.audioCtx.close(),this.audioCtx=null},M.init=function(A){this.option=Object.assign({},{encoding:"16bitInt",channels:1,sampleRate:8e3,flushingTime:1e3},A),this.samples=new Float32Array,this.flush=this.flush.bind(this),this.interval=setInterval(this.flush,this.option.flushingTime),this.maxValue=this.getMaxValue(),this.typedArray=this.getTypedArray(),this.createContext()},M.getMaxValue=function(){var A={"8bitInt":128,"16bitInt":32768,"32bitInt":2147483648,"32bitFloat":1};return A[this.option.encoding]?A[this.option.encoding]:A["16bitInt"]},M.getTypedArray=function(){var A={"8bitInt":Int8Array,"16bitInt":Int16Array,"32bitInt":Int32Array,"32bitFloat":Float32Array};return A[this.option.encoding]?A[this.option.encoding]:A["16bitInt"]},M.createContext=function(){this.audioCtx=new(window.AudioContext||window.webkitAudioContext),this.gainNode=this.audioCtx.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioCtx.destination),this.startTime=this.audioCtx.currentTime},M.isTypedArray=function(A){return A.byteLength&&A.buffer&&A.buffer.constructor==ArrayBuffer},M.feed=function(A){if(this.isTypedArray(A)){A=this.getFormatedValue(A);var M=new Float32Array(this.samples.length+A.length);M.set(this.samples,0),M.set(A,this.samples.length),this.samples=M}},M.getFormatedValue=function(A){A=new this.typedArray(A.buffer);var M,t=new Float32Array(A.length);for(M=0;M<A.length;M++)t[M]=A[M]/this.maxValue;return t},M.volume=function(A){this.gainNode.gain.value=A},M.flush=function(){if(null!=this.samples&&this.samples.length){console.log("flush audio data...");var A,M,t,g,I,e=this.audioCtx.createBufferSource(),i=this.samples.length/this.option.channels,T=this.audioCtx.createBuffer(this.option.channels,i,this.option.sampleRate);for(M=0;M<this.option.channels;M++)for(A=T.getChannelData(M),t=M,I=50,g=0;g<i;g++)A[g]=this.samples[t],g<50&&(A[g]=A[g]*g/50),g>=i-51&&(A[g]=A[g]*I--/50),t+=this.option.channels;this.startTime<this.audioCtx.currentTime&&(this.startTime=this.audioCtx.currentTime),e.buffer=T,e.connect(this.gainNode),e.start(this.startTime),this.startTime+=T.duration,this.samples=new Float32Array}},M.getTimestamp=function(){return this.audioCtx?this.audioCtx.currentTime:0},M.play=function(A){if(null!=this.audioCtx)if("running"===this.audioCtx.state){if(this.isTypedArray(A)&&(A=this.getFormatedValue(A)).length){this.stopFlag=!1;var M,t,g,I,e,i,T=this.audioCtx.createBufferSource(),E=A.length/this.option.channels;try{M=this.audioCtx.createBuffer(this.option.channels,E,this.option.sampleRate)}catch(A){}for(g=0;g<this.option.channels;g++)for(t=M.getChannelData(g),I=g,i=50,e=0;e<E;e++)t[e]=A[I],e<50&&(t[e]=t[e]*e/50),e>=E-51&&(t[e]=t[e]*i--/50),I+=this.option.channels;this.startTime<this.audioCtx.currentTime&&(this.startTime=this.audioCtx.currentTime),T.buffer=M,T.connect(this.gainNode),T.start(this.startTime),this.startTime+=M.duration,this.bufferSourcePtr=T}}else this.audioCtx.resume()},M.clearAudioBuffer=function(){this.stopFlag=!0,this.bufferSourcePtr&&this.bufferSourcePtr.stop(0)},M.pause=function(){null!=this.audioCtx&&"running"===this.audioCtx.state&&this.audioCtx.suspend()},M.resume=function(){null!=this.audioCtx&&"suspended"===this.audioCtx.state&&this.audioCtx.resume()},A}();M.a=g},function(A,M,t){"use strict";var g=t(2),I=function(){function A(A){this.TAG="ExpGolomb",this._buffer=A,this._buffer_index=0,this._total_bytes=A.byteLength,this._total_bits=8*A.byteLength,this._current_word=0,this._current_word_bits_left=0}var M=A.prototype;return M.destroy=function(){this._buffer=null},M._fillCurrentWord=function(){var A=this._total_bytes-this._buffer_index;if(A<=0)throw new g.a("ExpGolomb: _fillCurrentWord() but no bytes available");var M=Math.min(4,A),t=new Uint8Array(4);t.set(this._buffer.subarray(this._buffer_index,this._buffer_index+M)),this._current_word=new DataView(t.buffer).getUint32(0,!1),this._buffer_index+=M,this._current_word_bits_left=8*M},M.readBits=function(A){if(A>32)throw new g.b("ExpGolomb: readBits() bits exceeded max 32bits!");if(A<=this._current_word_bits_left){var M=this._current_word>>>32-A;return this._current_word<<=A,this._current_word_bits_left-=A,M}var t=this._current_word_bits_left?this._current_word:0;t>>>=32-this._current_word_bits_left;var I=A-this._current_word_bits_left;this._fillCurrentWord();var e=Math.min(I,this._current_word_bits_left),i=this._current_word>>>32-e;return this._current_word<<=e,this._current_word_bits_left-=e,t=t<<e|i},M.readBool=function(){return 1===this.readBits(1)},M.readByte=function(){return this.readBits(8)},M._skipLeadingZero=function(){var A;for(A=0;A<this._current_word_bits_left;A++)if(0!=(this._current_word&2147483648>>>A))return this._current_word<<=A,this._current_word_bits_left-=A,A;return this._fillCurrentWord(),A+this._skipLeadingZero()},M.readUEG=function(){var A=this._skipLeadingZero();return this.readBits(A+1)-1},M.readSEG=function(){var A=this.readUEG();return 1&A?A+1>>>1:-1*(A>>>1)},A}(),e=function(){function A(){}return A._ebsp2rbsp=function(A){for(var M=A,t=M.byteLength,g=new Uint8Array(t),I=0,e=0;e<t;e++)e>=2&&3===M[e]&&0===M[e-1]&&0===M[e-2]||(g[I]=M[e],I++);return new Uint8Array(g.buffer,0,I)},A.parseSPS=function(M){var t=A._ebsp2rbsp(M),g=new I(t);g.readByte();var e=g.readByte();g.readByte();var i=g.readByte();g.readUEG();var T=A.getProfileString(e),E=A.getLevelString(i),N=1,n=420,D=8;if((100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e||138===e||144===e)&&(3===(N=g.readUEG())&&g.readBits(1),N<=3&&(n=[0,420,422,444][N]),D=g.readUEG()+8,g.readUEG(),g.readBits(1),g.readBool()))for(var C=3!==N?8:12,r=0;r<C;r++)g.readBool()&&(r<6?A._skipScalingList(g,16):A._skipScalingList(g,64));g.readUEG();var c=g.readUEG();if(0===c)g.readUEG();else if(1===c){g.readBits(1),g.readSEG(),g.readSEG();for(var o=g.readUEG(),B=0;B<o;B++)g.readSEG()}var Q=g.readUEG();g.readBits(1);var a=g.readUEG(),h=g.readUEG(),s=g.readBits(1);0===s&&g.readBits(1),g.readBits(1);var y=0,w=0,j=0,L=0;g.readBool()&&(y=g.readUEG(),w=g.readUEG(),j=g.readUEG(),L=g.readUEG());var d=1,x=1,Y=0,u=!0,S=0,l=0;if(g.readBool()){if(g.readBool()){var z=g.readByte();z>0&&z<16?(d=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][z-1],x=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][z-1]):255===z&&(d=g.readByte()<<8|g.readByte(),x=g.readByte()<<8|g.readByte())}if(g.readBool()&&g.readBool(),g.readBool()&&(g.readBits(4),g.readBool()&&g.readBits(24)),g.readBool()&&(g.readUEG(),g.readUEG()),g.readBool()){var U=g.readBits(32),f=g.readBits(32);u=g.readBool(),Y=(S=f)/(l=2*U)}}var O=1;1===d&&1===x||(O=d/x);var m=0,F=0;0===N?(m=1,F=2-s):(m=3===N?1:2,F=(1===N?2:1)*(2-s));var R=16*(a+1),k=16*(h+1)*(2-s);R-=(y+w)*m,k-=(j+L)*F;var p=Math.ceil(R*O);return g.destroy(),g=null,{avc_profile:e,profile_string:T,avc_level:i,level_string:E,bit_depth:D,ref_frames:Q,chroma_format:n,chroma_format_string:A.getChromaFormatString(n),frame_rate:{fixed:u,fps:Y,fps_den:l,fps_num:S},sar_ratio:{width:d,height:x},codec_size:{width:R,height:k},present_size:{width:p,height:k}}},A._skipScalingList=function(A,M){for(var t=8,g=8,I=0;I<M;I++)0!==g&&(g=(t+A.readSEG()+256)%256),t=0===g?t:g},A.getProfileString=function(A){switch(A){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},A.getLevelString=function(A){return(A/10).toFixed(1)},A.getChromaFormatString=function(A){switch(A){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},A}();M.a=e},function(A,M,t){"use strict";(function(M){void 0===M||!M.version||0===M.version.indexOf("v0.")||0===M.version.indexOf("v1.")&&0!==M.version.indexOf("v1.8.")?A.exports={nextTick:function(A,t,g,I){if("function"!=typeof A)throw new TypeError('"callback" argument must be a function');var e,i,T=arguments.length;switch(T){case 0:case 1:return M.nextTick(A);case 2:return M.nextTick((function(){A.call(null,t)}));case 3:return M.nextTick((function(){A.call(null,t,g)}));case 4:return M.nextTick((function(){A.call(null,t,g,I)}));default:for(e=new Array(T-1),i=0;i<e.length;)e[i++]=arguments[i];return M.nextTick((function(){A.apply(null,e)}))}}}:A.exports=M}).call(this,t(8))},function(A,M,t){var g=t(4).Buffer;function I(A){g.isBuffer(A)||(A=g.from(A));for(var M=A.length/4|0,t=new Array(M),I=0;I<M;I++)t[I]=A.readUInt32BE(4*I);return t}function e(A){for(;0<A.length;A++)A[0]=0}function i(A,M,t,g,I){for(var e,i,T,E,N=t[0],n=t[1],D=t[2],C=t[3],r=A[0]^M[0],c=A[1]^M[1],o=A[2]^M[2],B=A[3]^M[3],Q=4,a=1;a<I;a++)e=N[r>>>24]^n[c>>>16&255]^D[o>>>8&255]^C[255&B]^M[Q++],i=N[c>>>24]^n[o>>>16&255]^D[B>>>8&255]^C[255&r]^M[Q++],T=N[o>>>24]^n[B>>>16&255]^D[r>>>8&255]^C[255&c]^M[Q++],E=N[B>>>24]^n[r>>>16&255]^D[c>>>8&255]^C[255&o]^M[Q++],r=e,c=i,o=T,B=E;return e=(g[r>>>24]<<24|g[c>>>16&255]<<16|g[o>>>8&255]<<8|g[255&B])^M[Q++],i=(g[c>>>24]<<24|g[o>>>16&255]<<16|g[B>>>8&255]<<8|g[255&r])^M[Q++],T=(g[o>>>24]<<24|g[B>>>16&255]<<16|g[r>>>8&255]<<8|g[255&c])^M[Q++],E=(g[B>>>24]<<24|g[r>>>16&255]<<16|g[c>>>8&255]<<8|g[255&o])^M[Q++],[e>>>=0,i>>>=0,T>>>=0,E>>>=0]}var T=[0,1,2,4,8,16,32,64,128,27,54],E=function(){for(var A=new Array(256),M=0;M<256;M++)A[M]=M<128?M<<1:M<<1^283;for(var t=[],g=[],I=[[],[],[],[]],e=[[],[],[],[]],i=0,T=0,E=0;E<256;++E){var N=T^T<<1^T<<2^T<<3^T<<4;N=N>>>8^255&N^99,t[i]=N,g[N]=i;var n=A[i],D=A[n],C=A[D],r=257*A[N]^16843008*N;I[0][i]=r<<24|r>>>8,I[1][i]=r<<16|r>>>16,I[2][i]=r<<8|r>>>24,I[3][i]=r,r=16843009*C^65537*D^257*n^16843008*i,e[0][N]=r<<24|r>>>8,e[1][N]=r<<16|r>>>16,e[2][N]=r<<8|r>>>24,e[3][N]=r,0===i?i=T=1:(i=n^A[A[A[C^n]]],T^=A[A[T]])}return{SBOX:t,INV_SBOX:g,SUB_MIX:I,INV_SUB_MIX:e}}();function N(A){this._key=I(A),this._reset()}N.blockSize=16,N.keySize=32,N.prototype.blockSize=N.blockSize,N.prototype.keySize=N.keySize,N.prototype._reset=function(){for(var A=this._key,M=A.length,t=M+6,g=4*(t+1),I=[],e=0;e<M;e++)I[e]=A[e];for(e=M;e<g;e++){var i=I[e-1];e%M==0?(i=i<<8|i>>>24,i=E.SBOX[i>>>24]<<24|E.SBOX[i>>>16&255]<<16|E.SBOX[i>>>8&255]<<8|E.SBOX[255&i],i^=T[e/M|0]<<24):M>6&&e%M==4&&(i=E.SBOX[i>>>24]<<24|E.SBOX[i>>>16&255]<<16|E.SBOX[i>>>8&255]<<8|E.SBOX[255&i]),I[e]=I[e-M]^i}for(var N=[],n=0;n<g;n++){var D=g-n,C=I[D-(n%4?0:4)];N[n]=n<4||D<=4?C:E.INV_SUB_MIX[0][E.SBOX[C>>>24]]^E.INV_SUB_MIX[1][E.SBOX[C>>>16&255]]^E.INV_SUB_MIX[2][E.SBOX[C>>>8&255]]^E.INV_SUB_MIX[3][E.SBOX[255&C]]}this._nRounds=t,this._keySchedule=I,this._invKeySchedule=N},N.prototype.encryptBlockRaw=function(A){return i(A=I(A),this._keySchedule,E.SUB_MIX,E.SBOX,this._nRounds)},N.prototype.encryptBlock=function(A){var M=this.encryptBlockRaw(A),t=g.allocUnsafe(16);return t.writeUInt32BE(M[0],0),t.writeUInt32BE(M[1],4),t.writeUInt32BE(M[2],8),t.writeUInt32BE(M[3],12),t},N.prototype.decryptBlock=function(A){var M=(A=I(A))[1];A[1]=A[3],A[3]=M;var t=i(A,this._invKeySchedule,E.INV_SUB_MIX,E.INV_SBOX,this._nRounds),e=g.allocUnsafe(16);return e.writeUInt32BE(t[0],0),e.writeUInt32BE(t[3],4),e.writeUInt32BE(t[2],8),e.writeUInt32BE(t[1],12),e},N.prototype.scrub=function(){e(this._keySchedule),e(this._invKeySchedule),e(this._key)},A.exports.AES=N},function(A,M,t){var g=t(4).Buffer,I=t(37);A.exports=function(A,M,t,e){if(g.isBuffer(A)||(A=g.from(A,"binary")),M&&(g.isBuffer(M)||(M=g.from(M,"binary")),8!==M.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var i=t/8,T=g.alloc(i),E=g.alloc(e||0),N=g.alloc(0);i>0||e>0;){var n=new I;n.update(N),n.update(A),M&&n.update(M),N=n.digest();var D=0;if(i>0){var C=T.length-i;D=Math.min(i,N.length),N.copy(T,C,0,D),i-=D}if(D<N.length&&e>0){var r=E.length-e,c=Math.min(e,N.length-D);N.copy(E,r,D,D+c),e-=c}}return N.fill(0),{key:T,iv:E}}},function(A,M,t){"use strict";var g=t(7),I=t(12),e=I.getNAF,i=I.getJSF,T=I.assert;function E(A,M){this.type=A,this.p=new g(M.p,16),this.red=M.prime?g.red(M.prime):g.mont(this.p),this.zero=new g(0).toRed(this.red),this.one=new g(1).toRed(this.red),this.two=new g(2).toRed(this.red),this.n=M.n&&new g(M.n,16),this.g=M.g&&this.pointFromJSON(M.g,M.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function N(A,M){this.curve=A,this.type=M,this.precomputed=null}A.exports=E,E.prototype.point=function(){throw new Error("Not implemented")},E.prototype.validate=function(){throw new Error("Not implemented")},E.prototype._fixedNafMul=function(A,M){T(A.precomputed);var t=A._getDoubles(),g=e(M,1,this._bitLength),I=(1<<t.step+1)-(t.step%2==0?2:1);I/=3;for(var i=[],E=0;E<g.length;E+=t.step){var N=0;for(M=E+t.step-1;M>=E;M--)N=(N<<1)+g[M];i.push(N)}for(var n=this.jpoint(null,null,null),D=this.jpoint(null,null,null),C=I;C>0;C--){for(E=0;E<i.length;E++){(N=i[E])===C?D=D.mixedAdd(t.points[E]):N===-C&&(D=D.mixedAdd(t.points[E].neg()))}n=n.add(D)}return n.toP()},E.prototype._wnafMul=function(A,M){var t=4,g=A._getNAFPoints(t);t=g.wnd;for(var I=g.points,i=e(M,t,this._bitLength),E=this.jpoint(null,null,null),N=i.length-1;N>=0;N--){for(M=0;N>=0&&0===i[N];N--)M++;if(N>=0&&M++,E=E.dblp(M),N<0)break;var n=i[N];T(0!==n),E="affine"===A.type?n>0?E.mixedAdd(I[n-1>>1]):E.mixedAdd(I[-n-1>>1].neg()):n>0?E.add(I[n-1>>1]):E.add(I[-n-1>>1].neg())}return"affine"===A.type?E.toP():E},E.prototype._wnafMulAdd=function(A,M,t,g,I){for(var T=this._wnafT1,E=this._wnafT2,N=this._wnafT3,n=0,D=0;D<g;D++){var C=(d=M[D])._getNAFPoints(A);T[D]=C.wnd,E[D]=C.points}for(D=g-1;D>=1;D-=2){var r=D-1,c=D;if(1===T[r]&&1===T[c]){var o=[M[r],null,null,M[c]];0===M[r].y.cmp(M[c].y)?(o[1]=M[r].add(M[c]),o[2]=M[r].toJ().mixedAdd(M[c].neg())):0===M[r].y.cmp(M[c].y.redNeg())?(o[1]=M[r].toJ().mixedAdd(M[c]),o[2]=M[r].add(M[c].neg())):(o[1]=M[r].toJ().mixedAdd(M[c]),o[2]=M[r].toJ().mixedAdd(M[c].neg()));var B=[-3,-1,-5,-7,0,7,5,1,3],Q=i(t[r],t[c]);n=Math.max(Q[0].length,n),N[r]=new Array(n),N[c]=new Array(n);for(var a=0;a<n;a++){var h=0|Q[0][a],s=0|Q[1][a];N[r][a]=B[3*(h+1)+(s+1)],N[c][a]=0,E[r]=o}}else N[r]=e(t[r],T[r],this._bitLength),N[c]=e(t[c],T[c],this._bitLength),n=Math.max(N[r].length,n),n=Math.max(N[c].length,n)}var y=this.jpoint(null,null,null),w=this._wnafT4;for(D=n;D>=0;D--){for(var j=0;D>=0;){var L=!0;for(a=0;a<g;a++)w[a]=0|N[a][D],0!==w[a]&&(L=!1);if(!L)break;j++,D--}if(D>=0&&j++,y=y.dblp(j),D<0)break;for(a=0;a<g;a++){var d,x=w[a];0!==x&&(x>0?d=E[a][x-1>>1]:x<0&&(d=E[a][-x-1>>1].neg()),y="affine"===d.type?y.mixedAdd(d):y.add(d))}}for(D=0;D<g;D++)E[D]=null;return I?y:y.toP()},E.BasePoint=N,N.prototype.eq=function(){throw new Error("Not implemented")},N.prototype.validate=function(){return this.curve.validate(this)},E.prototype.decodePoint=function(A,M){A=I.toArray(A,M);var t=this.p.byteLength();if((4===A[0]||6===A[0]||7===A[0])&&A.length-1==2*t)return 6===A[0]?T(A[A.length-1]%2==0):7===A[0]&&T(A[A.length-1]%2==1),this.point(A.slice(1,1+t),A.slice(1+t,1+2*t));if((2===A[0]||3===A[0])&&A.length-1===t)return this.pointFromX(A.slice(1,1+t),3===A[0]);throw new Error("Unknown point format")},N.prototype.encodeCompressed=function(A){return this.encode(A,!0)},N.prototype._encode=function(A){var M=this.curve.p.byteLength(),t=this.getX().toArray("be",M);return A?[this.getY().isEven()?2:3].concat(t):[4].concat(t,this.getY().toArray("be",M))},N.prototype.encode=function(A,M){return I.encode(this._encode(M),A)},N.prototype.precompute=function(A){if(this.precomputed)return this;var M={doubles:null,naf:null,beta:null};return M.naf=this._getNAFPoints(8),M.doubles=this._getDoubles(4,A),M.beta=this._getBeta(),this.precomputed=M,this},N.prototype._hasDoubles=function(A){if(!this.precomputed)return!1;var M=this.precomputed.doubles;return!!M&&M.points.length>=Math.ceil((A.bitLength()+1)/M.step)},N.prototype._getDoubles=function(A,M){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var t=[this],g=this,I=0;I<M;I+=A){for(var e=0;e<A;e++)g=g.dbl();t.push(g)}return{step:A,points:t}},N.prototype._getNAFPoints=function(A){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var M=[this],t=(1<<A)-1,g=1===t?null:this.dbl(),I=1;I<t;I++)M[I]=M[I-1].add(g);return{wnd:A,points:M}},N.prototype._getBeta=function(){return null},N.prototype.dblp=function(A){for(var M=this,t=0;t<A;t++)M=M.dbl();return M}},function(A,M,t){var g=t(190),I=t(197),e=t(198),i=t(45),T=t(80),E=t(4).Buffer;function N(A){var M;"object"!=typeof A||E.isBuffer(A)||(M=A.passphrase,A=A.key),"string"==typeof A&&(A=E.from(A));var t,N,n=e(A,M),D=n.tag,C=n.data;switch(D){case"CERTIFICATE":N=g.certificate.decode(C,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(N||(N=g.PublicKey.decode(C,"der")),t=N.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return g.RSAPublicKey.decode(N.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return N.subjectPrivateKey=N.subjectPublicKey,{type:"ec",data:N};case"1.2.840.10040.4.1":return N.algorithm.params.pub_key=g.DSAparam.decode(N.subjectPublicKey.data,"der"),{type:"dsa",data:N.algorithm.params};default:throw new Error("unknown key id "+t)}case"ENCRYPTED PRIVATE KEY":C=function(A,M){var t=A.algorithm.decrypt.kde.kdeparams.salt,g=parseInt(A.algorithm.decrypt.kde.kdeparams.iters.toString(),10),e=I[A.algorithm.decrypt.cipher.algo.join(".")],N=A.algorithm.decrypt.cipher.iv,n=A.subjectPrivateKey,D=parseInt(e.split("-")[1],10)/8,C=T.pbkdf2Sync(M,t,g,D,"sha1"),r=i.createDecipheriv(e,C,N),c=[];return c.push(r.update(n)),c.push(r.final()),E.concat(c)}(C=g.EncryptedPrivateKey.decode(C,"der"),M);case"PRIVATE KEY":switch(t=(N=g.PrivateKey.decode(C,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return g.RSAPrivateKey.decode(N.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:N.algorithm.curve,privateKey:g.ECPrivateKey.decode(N.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return N.algorithm.params.priv_key=g.DSAparam.decode(N.subjectPrivateKey,"der"),{type:"dsa",params:N.algorithm.params};default:throw new Error("unknown key id "+t)}case"RSA PUBLIC KEY":return g.RSAPublicKey.decode(C,"der");case"RSA PRIVATE KEY":return g.RSAPrivateKey.decode(C,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:g.DSAPrivateKey.decode(C,"der")};case"EC PRIVATE KEY":return{curve:(C=g.ECPrivateKey.decode(C,"der")).parameters.value,privateKey:C.privateKey};default:throw new Error("unknown key type "+D)}}A.exports=N,N.signature=g.signature},function(A,M,t){"use strict";var g=t(1);function I(A,M,t){var g=A;if(M+t<g.length){for(;t--;)if(128!=(192&g[++M]))return!1;return!0}return!1}var e,i=function(A){for(var M=[],t=A,g=0,e=A.length;g<e;)if(t[g]<128)M.push(String.fromCharCode(t[g])),++g;else{if(t[g]<192);else if(t[g]<224){if(I(t,g,1)){var i=(31&t[g])<<6|63&t[g+1];if(i>=128){M.push(String.fromCharCode(65535&i)),g+=2;continue}}}else if(t[g]<240){if(I(t,g,2)){var T=(15&t[g])<<12|(63&t[g+1])<<6|63&t[g+2];if(T>=2048&&55296!=(63488&T)){M.push(String.fromCharCode(65535&T)),g+=3;continue}}}else if(t[g]<248&&I(t,g,3)){var E=(7&t[g])<<18|(63&t[g+1])<<12|(63&t[g+2])<<6|63&t[g+3];if(E>65536&&E<1114112){E-=65536,M.push(String.fromCharCode(E>>>10|55296)),M.push(String.fromCharCode(1023&E|56320)),g+=4;continue}}M.push(String.fromCharCode(65533)),++g}return M.join("")},T=t(2),E=(e=new ArrayBuffer(2),new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]),N=function(){function A(){}return A.parseScriptData=function(M,t,I){var e={};try{var i=A.parseValue(M,t,I);if(I-i.size<1)return e;var T=A.parseValue(M,t+i.size,I-i.size);e[i.data]=T.data}catch(A){g.a.e("AMF",A.toString())}return e},A.parseObject=function(M,t,g){if(g<3)throw new T.a("Data not enough when parse ScriptDataObject");var I=A.parseString(M,t,g),e=A.parseValue(M,t+I.size,g-I.size),i=e.objectEnd;return{data:{name:I.data,value:e.data},size:I.size+e.size,objectEnd:i}},A.parseVariable=function(M,t,g){return A.parseObject(M,t,g)},A.parseString=function(A,M,t){if(t<2)throw new T.a("Data not enough when parse String");var g=new DataView(A,M,t).getUint16(0,!E);return{data:g>0?i(new Uint8Array(A,M+2,g)):"",size:2+g}},A.parseLongString=function(A,M,t){if(t<4)throw new T.a("Data not enough when parse LongString");var g=new DataView(A,M,t).getUint32(0,!E);return{data:g>0?i(new Uint8Array(A,M+4,g)):"",size:4+g}},A.parseDate=function(A,M,t){if(t<10)throw new T.a("Data size invalid when parse Date");var g=new DataView(A,M,t),I=g.getFloat64(0,!E),e=g.getInt16(8,!E);return{data:new Date(I+=60*e*1e3),size:10}},A.parseValue=function(M,t,I){if(I<1)throw new T.a("Data not enough when parse Value");var e,i=new DataView(M,t,I),N=1,n=i.getUint8(0),D=!1;try{switch(n){case 0:e=i.getFloat64(1,!E),N+=8;break;case 1:e=!!i.getUint8(1),N+=1;break;case 2:var C=A.parseString(M,t+1,I-1);e=C.data,N+=C.size;break;case 3:e={};var r=0;for(9==(16777215&i.getUint32(I-4,!E))&&(r=3);N<I-4;){var c=A.parseObject(M,t+N,I-N-r);if(c.objectEnd)break;e[c.data.name]=c.data.value,N+=c.size}if(N<=I-3)9===(16777215&i.getUint32(N-1,!E))&&(N+=3);break;case 8:e={},N+=4;var o=0;for(9==(16777215&i.getUint32(I-4,!E))&&(o=3);N<I-8;){var B=A.parseVariable(M,t+N,I-N-o);if(B.objectEnd)break;e[B.data.name]=B.data.value,N+=B.size}if(N<=I-3)9===(16777215&i.getUint32(N-1,!E))&&(N+=3);break;case 9:e=void 0,N=1,D=!0;break;case 10:e=[];var Q=i.getUint32(1,!E);N+=4;for(var a=0;a<Q;a++){var h=A.parseValue(M,t+N,I-N);e.push(h.data),N+=h.size}break;case 11:var s=A.parseDate(M,t+1,I-1);e=s.data,N+=s.size;break;case 12:var y=A.parseString(M,t+1,I-1);e=y.data,N+=y.size;break;default:N=I}}catch(A){g.a.e("AMF",A.toString())}return{data:e,size:N,objectEnd:D}},A}(),n=t(30),D=t(5),C=t(13),r=t(0);function c(A,M){for(var t=0;t<M.length;t++){var g=M[t];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(A,g.key,g)}}var o=function(){function A(A,M,t,g){this.TAG="FLVDemuxer",this._config=M,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=A.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=A.hasAudioTrack,this._hasVideo=A.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new C.a,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var A=new ArrayBuffer(2);return new DataView(A).setInt16(0,256,!0),256===new Int16Array(A)[0]}(),this.videoCodecId=0,this.audioCodecId=0,this._AVC_SPS=null,this._AVC_PPS=null,this._HEVC_VPS=null,this._HEVC_SPS=null,this._HEVC_PPS=null,this._StartCode=[0,0,0,1],this._SampleRate=8e3,this._ChannelNum=1,this._pause=!1,this._callbackInitFlag=!1,this._callbackMediaDataFunc=t,this._callbackMediaDataUserPtr=g,this._debugProcCount=0,this._DebugBuf=null,this._DebugBufPos=0}var M,t,I,e=A.prototype;return e.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},A.probe=function(A){var M=new Uint8Array(A),t={match:!1};if(70!==M[0]||76!==M[1]||86!==M[2]||1!==M[3])return t;var g,I,e=(4&M[4])>>>2!=0,i=0!=(1&M[4]),T=(g=M)[I=5]<<24|g[I+1]<<16|g[I+2]<<8|g[I+3];return T<9?t:{match:!0,consumed:T,dataOffset:T,hasAudioTrack:e,hasVideoTrack:i}},e.bindDataSource=function(A){return A.onDataArrival=this.parseChunks.bind(this),this},e.resetMediaInfo=function(){this._mediaInfo=new C.a},e.pause=function(){this._pause=!0},e.resume=function(){this._pause=!1},e._onDataAvailableToSoftwareDecodeVideo=function(A,M){var t=M.samples,g=-1;for(t.length>1&&(g=0);t.length;){for(var I=t.shift(),e=0,i=0;i<I.units.length;i++)e+=I.units[i].data.length;for(var T=0,E=new Uint8Array(e);I.units.length;){var N=I.units.shift();27==A&&(N.data[0]=0,N.data[1]=0,N.data[2]=0,N.data[3]=1),E.set(N.data,T),T+=N.data.length}this._callbackMediaDataFunc&&(g>=0&&g++,this._callbackMediaDataFunc(this._callbackMediaDataUserPtr,!0,1,A,I.isKeyframe,E,e,I.pts,0,0))}},e._onDataAvailableToSoftwareDecodeAudio=function(A,M){var t=M.samples,g=-1;for(t.length>1&&(g=0);t.length;){var I=t.shift();this._callbackMediaDataFunc&&(g>=0&&g++,this._callbackMediaDataFunc(this._callbackMediaDataUserPtr,!0,2,A,0,I.unit,I.length,this._SampleRate,this._ChannelNum,this._SampleRate>=44100?32:16))}},e._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched},e.parseChunks=function(M,t){if(null!==M){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new T.a("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var I=0,e=this._littleEndian;if(0===t){if(!(M.byteLength>13))return 0;I=A.probe(M).dataOffset}if(this._firstParse)this._firstParse=!1,t+I!==this._dataOffset&&g.a.w(this.TAG,"First time parsing but chunk byteStart invalid!"),0!==new DataView(M,I).getUint32(0,!e)&&g.a.w(this.TAG,"PrevTagSize0 !== 0 !!!"),I+=4;for(;I<M.byteLength;){this._dispatch=!0;var i=new DataView(M,I);if(I+11+4>M.byteLength)break;var E=i.getUint8(0),N=16777215&i.getUint32(0,!e);if(I+11+N+4>M.byteLength)break;if(8===E||9===E||18===E){var n=i.getUint8(4),D=i.getUint8(5),C=i.getUint8(6)|D<<8|n<<16|i.getUint8(7)<<24;0!==(16777215&i.getUint32(7,!e))&&g.a.w(this.TAG,"Meet tag which has StreamID != 0!");var r=I+11;if(!this._pause)switch(E){case 8:this.audioCodecId=this._parseAudioData(M,r,N,C);break;case 9:this.videoCodecId=this._parseVideoData(M,r,N,C,t+I);break;case 18:this._parseScriptData(M,r,N)}var c=i.getUint32(11+N,!e);c!==11+N&&g.a.w(this.TAG,"Invalid PrevTagSize "+c),I+=11+N+4}else g.a.w(this.TAG,"Unsupported tag type "+E+", skipped"),I+=11+N+4}return this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&(7==this.videoCodecId?"auto"===this._config.decodeType||"hard"===this._config.decodeType?(this._onDataAvailable(this._audioTrack,this._videoTrack),this._callbackInitFlag||(this._callbackInitFlag=!0,this._callbackMediaDataFunc&&this._callbackMediaDataFunc(this._callbackMediaDataUserPtr,!1,1,0,0,null,0,0,0,0))):(this._videoTrack.samples.length>0&&this._onDataAvailableToSoftwareDecodeVideo(27,this._videoTrack),this._audioTrack.samples.length>0&&this._onDataAvailableToSoftwareDecodeAudio(10==this.audioCodecId?86018:0,this._audioTrack)):12==this.videoCodecId&&(this._videoTrack.samples.length>0&&this._onDataAvailableToSoftwareDecodeVideo(173,this._videoTrack),this._audioTrack.samples.length>0&&this._onDataAvailableToSoftwareDecodeAudio(10==this.audioCodecId?86018:0,this._audioTrack))):(this._debugProcCount++,this._debugProcCount>=60&&(console.log("InitialMetadataDispatched fail."),this._debugProcCount=0)),I}},e._parseScriptData=function(A,M,t){var I=N.parseScriptData(A,M,t);if(I.hasOwnProperty("onMetaData")){if(null==I.onMetaData||"object"!=typeof I.onMetaData)return void g.a.w(this.TAG,"Invalid onMetaData structure!");this._metadata&&g.a.w(this.TAG,"Found another onMetaData tag!"),this._metadata=I;var e=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},e)),"boolean"==typeof e.hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=e.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),"boolean"==typeof e.hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=e.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),"number"==typeof e.audiodatarate&&(this._mediaInfo.audioDataRate=e.audiodatarate),"number"==typeof e.videodatarate&&(this._mediaInfo.videoDataRate=e.videodatarate),"number"==typeof e.width&&(this._mediaInfo.width=e.width),"number"==typeof e.height&&(this._mediaInfo.height=e.height),"number"==typeof e.duration){if(!this._durationOverrided){var i=Math.floor(e.duration*this._timescale);this._duration=i,this._mediaInfo.duration=i}}else this._mediaInfo.duration=0;if("number"==typeof e.framerate){var T=Math.floor(1e3*e.framerate);if(T>0){var E=T/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=E,this._referenceFrameRate.fps_num=T,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=E}}if("object"==typeof e.keyframes){this._mediaInfo.hasKeyframesIndex=!0;var n=e.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(n),e.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=e,g.a.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(I).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},I))},e._parseKeyframesIndex=function(A){for(var M=[],t=[],g=1;g<A.times.length;g++){var I=this._timestampBase+Math.floor(1e3*A.times[g]);M.push(I),t.push(A.filepositions[g])}return{times:M,filepositions:t}},e._parseAudioData=function(A,M,t,I){if(t<=1)return g.a.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!"),0;if(!0===this._hasAudioFlagOverrided&&!1===this._hasAudio)return 0;this._littleEndian;var e=new DataView(A,M,t).getUint8(0),i=e>>>4;if(2!==i&&10!==i)return this._onError(D.a.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+i),0;var T=0,E=(12&e)>>>2;if(!(E>=0&&E<=4))return this._onError(D.a.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+E),0;T=this._flvSoundRateTable[E];var N=1&e,n=this._audioMetadata,C=this._audioTrack;if(n||(!1===this._hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(n=this._audioMetadata={}).type="audio",n.id=C.id,n.timescale=this._timescale,n.duration=this._duration,n.audioSampleRate=T,n.channelCount=0===N?1:2),10===i){var r=this._parseAACAudioData(A,M+1,t-1);if(null==r)return 0;if(0===r.packetType){n.config&&g.a.w(this.TAG,"Found another AudioSpecificConfig!");var c=r.data;n.audioSampleRate=c.samplingRate,n.channelCount=c.channelCount,n.codec=c.codec,n.originalCodec=c.originalCodec,n.config=c.config,n.refSampleDuration=1024/n.audioSampleRate*n.timescale,g.a.v(this.TAG,"Parsed AudioSpecificConfig"),this._SampleRate=c.samplingRate,this._ChannelNum=c.channelCount,this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",n);var o=this._mediaInfo;o.audioCodec=n.originalCodec,o.audioSampleRate=n.audioSampleRate,o.audioChannelCount=n.channelCount,o.hasVideo?null!=o.videoCodec&&(o.mimeType='video/x-flv; codecs="'+o.videoCodec+","+o.audioCodec+'"'):o.mimeType='video/x-flv; codecs="'+o.audioCodec+'"',o.isComplete()&&this._onMediaInfo(o)}else if(1===r.packetType){var B=this._timestampBase+I,Q={unit:r.data,length:r.data.byteLength,dts:B,pts:B};C.samples.push(Q),C.length+=r.data.length}else g.a.e(this.TAG,"Flv: Unsupported AAC data type "+r.packetType)}else if(2===i){if(!n.codec){var a=this._parseMP3AudioData(A,M+1,t-1,!0);if(null==a)return 0;n.audioSampleRate=a.samplingRate,n.channelCount=a.channelCount,n.codec=a.codec,n.originalCodec=a.originalCodec,n.refSampleDuration=1152/n.audioSampleRate*n.timescale,g.a.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",n);var h=this._mediaInfo;h.audioCodec=n.codec,h.audioSampleRate=n.audioSampleRate,h.audioChannelCount=n.channelCount,h.audioDataRate=a.bitRate,h.hasVideo?null!=h.videoCodec&&(h.mimeType='video/x-flv; codecs="'+h.videoCodec+","+h.audioCodec+'"'):h.mimeType='video/x-flv; codecs="'+h.audioCodec+'"',h.isComplete()&&this._onMediaInfo(h)}var s=this._parseMP3AudioData(A,M+1,t-1,!1);if(null==s)return 0;var y=this._timestampBase+I,w={unit:s,length:s.byteLength,dts:y,pts:y};C.samples.push(w),C.length+=s.length}return i},e._parseAACAudioData=function(A,M,t){if(!(t<=1)){var I={},e=new Uint8Array(A,M,t);return I.packetType=e[0],0===e[0]?I.data=this._parseAACAudioSpecificConfig(A,M+1,t-1):I.data=e.subarray(1),I}g.a.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!")},e._parseAACAudioSpecificConfig=function(A,M,t){var g,I,e=new Uint8Array(A,M,t),i=null,T=0,E=null;if(T=g=e[0]>>>3,(I=(7&e[0])<<1|e[1]>>>7)<0||I>=this._mpegSamplingRates.length)this._onError(D.a.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");else{var N=this._mpegSamplingRates[I],n=(120&e[1])>>>3;if(!(n<0||n>=8)){5===T&&(E=(7&e[1])<<1|e[2]>>>7,(124&e[2])>>>2);var C=self.navigator.userAgent.toLowerCase();return-1!==C.indexOf("firefox")?I>=6?(T=5,i=new Array(4),E=I-3):(T=2,i=new Array(2),E=I):-1!==C.indexOf("android")?(T=2,i=new Array(2),E=I):(T=5,E=I,i=new Array(4),I>=6?E=I-3:1===n&&(T=2,i=new Array(2),E=I)),i[0]=T<<3,i[0]|=(15&I)>>>1,i[1]=(15&I)<<7,i[1]|=(15&n)<<3,5===T&&(i[1]|=(15&E)>>>1,i[2]=(1&E)<<7,i[2]|=8,i[3]=0),{config:i,samplingRate:N,channelCount:n,codec:"mp4a.40."+T,originalCodec:"mp4a.40."+g}}this._onError(D.a.FORMAT_ERROR,"Flv: AAC invalid channel configuration")}},e._parseMP3AudioData=function(A,M,t,I){if(!(t<4)){this._littleEndian;var e=new Uint8Array(A,M,t),i=null;if(I){if(255!==e[0])return;var T=e[1]>>>3&3,E=(6&e[1])>>1,N=(240&e[2])>>>4,n=(12&e[2])>>>2,D=3!==(e[3]>>>6&3)?2:1,C=0,r=0;switch(T){case 0:C=this._mpegAudioV25SampleRateTable[n];break;case 2:C=this._mpegAudioV20SampleRateTable[n];break;case 3:C=this._mpegAudioV10SampleRateTable[n]}switch(E){case 1:34,N<this._mpegAudioL3BitRateTable.length&&(r=this._mpegAudioL3BitRateTable[N]);break;case 2:33,N<this._mpegAudioL2BitRateTable.length&&(r=this._mpegAudioL2BitRateTable[N]);break;case 3:32,N<this._mpegAudioL1BitRateTable.length&&(r=this._mpegAudioL1BitRateTable[N])}i={bitRate:r,samplingRate:C,channelCount:D,codec:"mp3",originalCodec:"mp3"}}else i=e;return i}g.a.w(this.TAG,"Flv: Invalid MP3 packet, header missing!")},e._parseVideoData=function(A,M,t,I,e){if(t<=1)g.a.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");else if(!0!==this._hasVideoFlagOverrided||!1!==this._hasVideo){var i=new Uint8Array(A,M,t)[0],T=(240&i)>>>4,E=15&i;if(7===E||12===E)return this._parseAVCAndHEVCVideoPacket(E,A,M+1,t-1,I,e,T),E;this._onError(D.a.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+E)}},e._parseAVCAndHEVCVideoPacket=function(A,M,t,I,e,i,T){if(I<4)g.a.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");else{var E=this._littleEndian,N=new DataView(M,t,I),n=N.getUint8(0),C=(16777215&N.getUint32(0,!E))<<8>>8;if(0===n)7==A?(r.g("H264"),this._parseAVCDecoderConfigurationRecord(M,t+4,I-4)):(r.g("H265"),this._parseHEVCDecoderConfigurationRecord(M,t+4,I-4));else if(1===n)7==A?this._parseAVCVideoData(M,t+4,I-4,e,i,T,C):this._parseHEVCVideoData(M,t+4,I-4,e,i,T,C);else if(2!==n)return void this._onError(D.a.FORMAT_ERROR,"Flv: Invalid video packet type "+n)}},e._parseAVCDecoderConfigurationRecord=function(A,M,t){if(t<7)g.a.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");else{var I=this._videoMetadata,e=this._videoTrack,i=this._littleEndian,T=new DataView(A,M,t);I?void 0!==I.avcc&&g.a.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(I=this._videoMetadata={}).type="video",I.id=e.id,I.timescale=this._timescale,I.duration=this._duration);var E=T.getUint8(0),N=T.getUint8(1);T.getUint8(2),T.getUint8(3);if(1===E&&0!==N)if(this._naluLengthSize=1+(3&T.getUint8(4)),3===this._naluLengthSize||4===this._naluLengthSize){var C=31&T.getUint8(5);if(0!==C){C>1&&g.a.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+C);for(var r=6,c=0;c<C;c++){var o=T.getUint16(r,!i);if(r+=2,0!==o){var B=new Uint8Array(A,M+r,o);this._AVC_SPS=new Uint8Array(o+4),r+=o,this._AVC_SPS.set(this._StartCode,0),this._AVC_SPS.set(B,4);var Q=n.a.parseSPS(B);if(0===c){I.codecWidth=Q.codec_size.width,I.codecHeight=Q.codec_size.height,I.presentWidth=Q.present_size.width,I.presentHeight=Q.present_size.height,I.profile=Q.profile_string,I.level=Q.level_string,I.bitDepth=Q.bit_depth,I.chromaFormat=Q.chroma_format,I.sarRatio=Q.sar_ratio,I.frameRate=Q.frame_rate,!1!==Q.frame_rate.fixed&&0!==Q.frame_rate.fps_num&&0!==Q.frame_rate.fps_den||(I.frameRate=this._referenceFrameRate);var a=I.frameRate.fps_den,h=I.frameRate.fps_num;I.refSampleDuration=I.timescale*(a/h);for(var s=B.subarray(1,4),y="avc1.",w=0;w<3;w++){var j=s[w].toString(16);j.length<2&&(j="0"+j),y+=j}I.codec=y;var L=this._mediaInfo;L.width=I.codecWidth,L.height=I.codecHeight,L.fps=I.frameRate.fps,L.profile=I.profile,L.level=I.level,L.refFrames=Q.ref_frames,L.chromaFormat=Q.chroma_format_string,L.sarNum=I.sarRatio.width,L.sarDen=I.sarRatio.height,L.videoCodec=y,L.hasAudio?null!=L.audioCodec&&(L.mimeType='video/x-flv; codecs="'+L.videoCodec+","+L.audioCodec+'"'):L.mimeType='video/x-flv; codecs="'+L.videoCodec+'"',L.isComplete()&&this._onMediaInfo(L)}}}var d=T.getUint8(r);if(0!==d){d>1&&g.a.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+d),r++;for(var x=0;x<d;x++){var Y=T.getUint16(r,!i);if(r+=2,0!==Y){var u=new Uint8Array(A,M+r,Y);this._AVC_PPS=new Uint8Array(Y+4),this._AVC_PPS.set(this._StartCode,0),this._AVC_PPS.set(u,4),r+=Y}}I.avcc=new Uint8Array(t),I.avcc.set(new Uint8Array(A,M,t),0),g.a.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",I),g.a.i(this.TAG,"Video resolution: "+I.codecWidth+" x "+I.codecHeight)}else this._onError(D.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS")}else this._onError(D.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS")}else this._onError(D.a.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));else this._onError(D.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord")}},e._parseAVCVideoData=function(A,M,t,I,e,i,T){var E=this._littleEndian,N=new DataView(A,M,t),n=[],D=0,C=0,r=this._naluLengthSize,c=this._timestampBase+I,o=1===i,B=!0;for(7==this.videoCodecId&&("auto"!==this._config.decodeType&&"hard"!==this._config.decodeType||(B=!1));C<t;){if(C+4>=t){g.a.w(this.TAG,"Malformed Nalu near timestamp "+c+", offset = "+C+", dataSize = "+t);break}var Q=N.getUint32(C,!E);if(3===r&&(Q>>>=8),Q>t-r)return void g.a.w(this.TAG,"Malformed Nalus near timestamp "+c+", NaluSize > DataSize!");var a=31&N.getUint8(C+r);if(5===a){if(o=!0,n.length<1&&this._AVC_SPS&&this._AVC_SPS.length>0)if(B){var h={type:7,data:this._AVC_SPS};n.push(h),D+=h.data.length;var s={type:8,data:this._AVC_PPS};n.push(s),D+=s.data.length}else{var y=this._AVC_SPS.subarray(0,this._AVC_SPS.length),w=y.length-4;y[0]=w>>24,y[1]=w>>16,y[2]=w>>8,y[3]=255&w;var j={type:7,data:y};n.push(j),D+=j.data.length;var L=this._AVC_PPS.subarray(0,this._AVC_PPS.length),d=L.length-4;L[0]=d>>24,L[1]=d>>16,L[2]=d>>8,L[3]=255&d;var x={type:8,data:L};n.push(x),D+=x.data.length}}else if(6===a){if(n.length<1)if(5==(31&N.getUint8(C+r+1))){for(var Y=0,u=0,S=0;S<10;S++){var l=255&N.getUint8(C+r+1+1+u);if(u++,Y+=l,255!=l)break}if(Y>16){var z=new Uint8Array(A,M+C+r+1+u+16+1,Y-16-u+1);new TextDecoder("utf-8").decode(z)}}}var U=new Uint8Array(A,M+C,r+Q),f={type:a,data:U};n.push(f),D+=U.byteLength,C+=r+Q}if(n.length){var O=this._videoTrack,m={units:n,length:D,isKeyframe:o,dts:c,cts:T,pts:c+T};o&&(m.fileposition=e),O.samples.push(m),O.length+=D}},e._parseHEVCDecoderConfigurationRecord=function(A,M,t){if(t<7)g.a.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");else{var I=this._videoMetadata,e=this._videoTrack,i=this._littleEndian,T=new DataView(A,M,t);I?void 0!==I.avcc&&g.a.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(I=this._videoMetadata={}).type="video",I.id=e.id,I.timescale=this._timescale,I.duration=this._duration);var E=T.getUint8(0),N=T.getUint8(1),n=T.getUint8(2),D=T.getUint8(3);if(0===E&&0===N&&0===n&&1===D)console.log("H265 1");else{var C=22,r=T.getUint8(C);C+=1;for(var c=0;c<r;c++){var o=T.getUint8(C);C+=1;T.getUint16(C,!i);C+=2;var B=T.getUint16(C,!i);if(C+=2,32===o){var Q=new Uint8Array(A,M+C,B);this._HEVC_VPS=new Uint8Array(B+4),this._HEVC_VPS.set(this._StartCode,0),this._HEVC_VPS.set(Q,4)}else if(33===o){var a=new Uint8Array(A,M+C,B);this._HEVC_SPS=new Uint8Array(B+4),this._HEVC_SPS.set(this._StartCode,0),this._HEVC_SPS.set(a,4)}else if(34===o){var h=new Uint8Array(A,M+C,B);this._HEVC_PPS=new Uint8Array(B+4),this._HEVC_PPS.set(this._StartCode,0),this._HEVC_PPS.set(h,4)}C+=B}}this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1}},e._makeH265Header=function(A){var M=2;switch(A){case 78:case 80:M=1;break;case 64:case 66:case 32:case 34:case 36:case 38:case 40:case 42:M=1}return M},e._parseHEVCVideoData=function(A,M,t,I,e,i,T){for(var E=this._littleEndian,N=new DataView(A,M,t),n=this._timestampBase+I,D=1===i,C=[],r=0,c=0;c<t;){if(c+4>=t){g.a.w(this.TAG,"Malformed Nalu near timestamp "+n+", offset = "+c+", dataSize = "+t);break}var o=N.getUint8(c),B=N.getUint8(c+1),Q=N.getUint8(c+2),a=N.getUint8(c+3);if(0===o&&0===B&&0===Q&&1===a)console.log("memcpy.....");else{var h=N.getUint32(c,!E);c+=4;N.getUint8(c);if(c+=1,h>t-4)return void g.a.w(this.TAG,"Malformed Nalus near timestamp "+n+", NaluSize > DataSize!");if(h+c-1>t)break;var s=N.getUint8(c-1),y=this._makeH265Header(s);if((32===s||34===s||36===s||38===s||40===s||42===s)&&C.length<1){if(this._HEVC_VPS){var w={type:5,data:this._HEVC_VPS};C.push(w),r+=this._HEVC_VPS.length}if(this._HEVC_SPS){var j={type:6,data:this._HEVC_SPS};C.push(j),r+=this._HEVC_SPS.length}if(this._HEVC_PPS){var L={type:7,data:this._HEVC_PPS};C.push(L),r+=this._HEVC_PPS.length}}if(1===y&&this._HEVC_VPS&&this._HEVC_VPS[0],M+c-1-4>=0&&h>0){var d=new Uint8Array(A,M+c-1-4,h+4);d[0]=0,d[1]=0,d[2]=0,d[3]=1;var x={type:5,data:d};C.push(x),r+=d.length}c+=h-1}}if(this._DebugBuf&&(this._DebugBufPos<1048576?(this._DebugBuf.set(data2,this._DebugBufPos),this._DebugBufPos+=data2.length):(console.log("DebugBuf: "+this._DebugBuf),this._DebugBufPos=0)),C.length){var Y=this._videoTrack,u={units:C,length:r,isKeyframe:D,dts:n,cts:T,pts:n+T};D&&(u.fileposition=e),Y.samples.push(u),Y.length+=r}},M=A,(t=[{key:"onTrackMetadata",get:function(){return this._onTrackMetadata},set:function(A){this._onTrackMetadata=A}},{key:"onMediaInfo",get:function(){return this._onMediaInfo},set:function(A){this._onMediaInfo=A}},{key:"onMetaDataArrived",get:function(){return this._onMetaDataArrived},set:function(A){this._onMetaDataArrived=A}},{key:"onScriptDataArrived",get:function(){return this._onScriptDataArrived},set:function(A){this._onScriptDataArrived=A}},{key:"onError",get:function(){return this._onError},set:function(A){this._onError=A}},{key:"onDataAvailable",get:function(){return this._onDataAvailable},set:function(A){this._onDataAvailable=A}},{key:"timestampBase",get:function(){return this._timestampBase},set:function(A){this._timestampBase=A}},{key:"overridedDuration",get:function(){return this._duration},set:function(A){this._durationOverrided=!0,this._duration=A,this._mediaInfo.duration=A}},{key:"overridedHasAudio",set:function(A){this._hasAudioFlagOverrided=!0,this._hasAudio=A,this._mediaInfo.hasAudio=A}},{key:"overridedHasVideo",set:function(A){this._hasVideoFlagOverrided=!0,this._hasVideo=A,this._mediaInfo.hasVideo=A}}])&&c(M.prototype,t),I&&c(M,I),A}();M.a=o},function(A,M,t){"use strict";var g=t(3),I=t(62),e=t(4).Buffer,i=new Array(16);function T(){I.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function E(A,M){return A<<M|A>>>32-M}function N(A,M,t,g,I,e,i){return E(A+(M&t|~M&g)+I+e|0,i)+M|0}function n(A,M,t,g,I,e,i){return E(A+(M&g|t&~g)+I+e|0,i)+M|0}function D(A,M,t,g,I,e,i){return E(A+(M^t^g)+I+e|0,i)+M|0}function C(A,M,t,g,I,e,i){return E(A+(t^(M|~g))+I+e|0,i)+M|0}g(T,I),T.prototype._update=function(){for(var A=i,M=0;M<16;++M)A[M]=this._block.readInt32LE(4*M);var t=this._a,g=this._b,I=this._c,e=this._d;t=N(t,g,I,e,A[0],3614090360,7),e=N(e,t,g,I,A[1],3905402710,12),I=N(I,e,t,g,A[2],606105819,17),g=N(g,I,e,t,A[3],3250441966,22),t=N(t,g,I,e,A[4],4118548399,7),e=N(e,t,g,I,A[5],1200080426,12),I=N(I,e,t,g,A[6],2821735955,17),g=N(g,I,e,t,A[7],4249261313,22),t=N(t,g,I,e,A[8],1770035416,7),e=N(e,t,g,I,A[9],2336552879,12),I=N(I,e,t,g,A[10],4294925233,17),g=N(g,I,e,t,A[11],2304563134,22),t=N(t,g,I,e,A[12],1804603682,7),e=N(e,t,g,I,A[13],4254626195,12),I=N(I,e,t,g,A[14],2792965006,17),t=n(t,g=N(g,I,e,t,A[15],1236535329,22),I,e,A[1],4129170786,5),e=n(e,t,g,I,A[6],3225465664,9),I=n(I,e,t,g,A[11],643717713,14),g=n(g,I,e,t,A[0],3921069994,20),t=n(t,g,I,e,A[5],3593408605,5),e=n(e,t,g,I,A[10],38016083,9),I=n(I,e,t,g,A[15],3634488961,14),g=n(g,I,e,t,A[4],3889429448,20),t=n(t,g,I,e,A[9],568446438,5),e=n(e,t,g,I,A[14],3275163606,9),I=n(I,e,t,g,A[3],4107603335,14),g=n(g,I,e,t,A[8],1163531501,20),t=n(t,g,I,e,A[13],2850285829,5),e=n(e,t,g,I,A[2],4243563512,9),I=n(I,e,t,g,A[7],1735328473,14),t=D(t,g=n(g,I,e,t,A[12],2368359562,20),I,e,A[5],4294588738,4),e=D(e,t,g,I,A[8],2272392833,11),I=D(I,e,t,g,A[11],1839030562,16),g=D(g,I,e,t,A[14],4259657740,23),t=D(t,g,I,e,A[1],2763975236,4),e=D(e,t,g,I,A[4],1272893353,11),I=D(I,e,t,g,A[7],4139469664,16),g=D(g,I,e,t,A[10],3200236656,23),t=D(t,g,I,e,A[13],681279174,4),e=D(e,t,g,I,A[0],3936430074,11),I=D(I,e,t,g,A[3],3572445317,16),g=D(g,I,e,t,A[6],76029189,23),t=D(t,g,I,e,A[9],3654602809,4),e=D(e,t,g,I,A[12],3873151461,11),I=D(I,e,t,g,A[15],530742520,16),t=C(t,g=D(g,I,e,t,A[2],3299628645,23),I,e,A[0],4096336452,6),e=C(e,t,g,I,A[7],1126891415,10),I=C(I,e,t,g,A[14],2878612391,15),g=C(g,I,e,t,A[5],4237533241,21),t=C(t,g,I,e,A[12],1700485571,6),e=C(e,t,g,I,A[3],2399980690,10),I=C(I,e,t,g,A[10],4293915773,15),g=C(g,I,e,t,A[1],2240044497,21),t=C(t,g,I,e,A[8],1873313359,6),e=C(e,t,g,I,A[15],4264355552,10),I=C(I,e,t,g,A[6],2734768916,15),g=C(g,I,e,t,A[13],1309151649,21),t=C(t,g,I,e,A[4],4149444226,6),e=C(e,t,g,I,A[11],3174756917,10),I=C(I,e,t,g,A[2],718787259,15),g=C(g,I,e,t,A[9],3951481745,21),this._a=this._a+t|0,this._b=this._b+g|0,this._c=this._c+I|0,this._d=this._d+e|0},T.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var A=e.allocUnsafe(16);return A.writeInt32LE(this._a,0),A.writeInt32LE(this._b,4),A.writeInt32LE(this._c,8),A.writeInt32LE(this._d,12),A},A.exports=T},function(A,M,t){"use strict";var g=t(19).codes.ERR_STREAM_PREMATURE_CLOSE;function I(){}A.exports=function A(M,t,e){if("function"==typeof t)return A(M,null,t);t||(t={}),e=function(A){var M=!1;return function(){if(!M){M=!0;for(var t=arguments.length,g=new Array(t),I=0;I<t;I++)g[I]=arguments[I];A.apply(this,g)}}}(e||I);var i=t.readable||!1!==t.readable&&M.readable,T=t.writable||!1!==t.writable&&M.writable,E=function(){M.writable||n()},N=M._writableState&&M._writableState.finished,n=function(){T=!1,N=!0,i||e.call(M)},D=M._readableState&&M._readableState.endEmitted,C=function(){i=!1,D=!0,T||e.call(M)},r=function(A){e.call(M,A)},c=function(){var A;return i&&!D?(M._readableState&&M._readableState.ended||(A=new g),e.call(M,A)):T&&!N?(M._writableState&&M._writableState.ended||(A=new g),e.call(M,A)):void 0},o=function(){M.req.on("finish",n)};return!function(A){return A.setHeader&&"function"==typeof A.abort}(M)?T&&!M._writableState&&(M.on("end",E),M.on("close",E)):(M.on("complete",n),M.on("abort",c),M.req?o():M.on("request",o)),M.on("end",C),M.on("finish",n),!1!==t.error&&M.on("error",r),M.on("close",c),function(){M.removeListener("complete",n),M.removeListener("abort",c),M.removeListener("request",o),M.req&&M.req.removeListener("finish",n),M.removeListener("end",E),M.removeListener("close",E),M.removeListener("finish",n),M.removeListener("end",C),M.removeListener("error",r),M.removeListener("close",c)}}},function(A,M,t){"use strict";var g=t(9).Buffer,I=t(3),e=t(62),i=new Array(16),T=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],E=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],N=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],n=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],D=[0,1518500249,1859775393,2400959708,2840853838],C=[1352829926,1548603684,1836072691,2053994217,0];function r(){e.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function c(A,M){return A<<M|A>>>32-M}function o(A,M,t,g,I,e,i,T){return c(A+(M^t^g)+e+i|0,T)+I|0}function B(A,M,t,g,I,e,i,T){return c(A+(M&t|~M&g)+e+i|0,T)+I|0}function Q(A,M,t,g,I,e,i,T){return c(A+((M|~t)^g)+e+i|0,T)+I|0}function a(A,M,t,g,I,e,i,T){return c(A+(M&g|t&~g)+e+i|0,T)+I|0}function h(A,M,t,g,I,e,i,T){return c(A+(M^(t|~g))+e+i|0,T)+I|0}I(r,e),r.prototype._update=function(){for(var A=i,M=0;M<16;++M)A[M]=this._block.readInt32LE(4*M);for(var t=0|this._a,g=0|this._b,I=0|this._c,e=0|this._d,r=0|this._e,s=0|this._a,y=0|this._b,w=0|this._c,j=0|this._d,L=0|this._e,d=0;d<80;d+=1){var x,Y;d<16?(x=o(t,g,I,e,r,A[T[d]],D[0],N[d]),Y=h(s,y,w,j,L,A[E[d]],C[0],n[d])):d<32?(x=B(t,g,I,e,r,A[T[d]],D[1],N[d]),Y=a(s,y,w,j,L,A[E[d]],C[1],n[d])):d<48?(x=Q(t,g,I,e,r,A[T[d]],D[2],N[d]),Y=Q(s,y,w,j,L,A[E[d]],C[2],n[d])):d<64?(x=a(t,g,I,e,r,A[T[d]],D[3],N[d]),Y=B(s,y,w,j,L,A[E[d]],C[3],n[d])):(x=h(t,g,I,e,r,A[T[d]],D[4],N[d]),Y=o(s,y,w,j,L,A[E[d]],C[4],n[d])),t=r,r=e,e=c(I,10),I=g,g=x,s=L,L=j,j=c(w,10),w=y,y=Y}var u=this._b+I+j|0;this._b=this._c+e+L|0,this._c=this._d+r+s|0,this._d=this._e+t+y|0,this._e=this._a+g+w|0,this._a=u},r.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var A=g.alloc?g.alloc(20):new g(20);return A.writeInt32LE(this._a,0),A.writeInt32LE(this._b,4),A.writeInt32LE(this._c,8),A.writeInt32LE(this._d,12),A.writeInt32LE(this._e,16),A},A.exports=r},function(A,M,t){(M=A.exports=function(A){A=A.toLowerCase();var t=M[A];if(!t)throw new Error(A+" is not supported (we accept pull requests)");return new t}).sha=t(131),M.sha1=t(132),M.sha224=t(133),M.sha256=t(71),M.sha384=t(134),M.sha512=t(72)},function(A,M,t){(M=A.exports=t(73)).Stream=M,M.Readable=M,M.Writable=t(43),M.Duplex=t(16),M.Transform=t(76),M.PassThrough=t(141)},function(A,M,t){var g=t(9),I=g.Buffer;function e(A,M){for(var t in A)M[t]=A[t]}function i(A,M,t){return I(A,M,t)}I.from&&I.alloc&&I.allocUnsafe&&I.allocUnsafeSlow?A.exports=g:(e(g,M),M.Buffer=i),e(I,i),i.from=function(A,M,t){if("number"==typeof A)throw new TypeError("Argument must not be a number");return I(A,M,t)},i.alloc=function(A,M,t){if("number"!=typeof A)throw new TypeError("Argument must be a number");var g=I(A);return void 0!==M?"string"==typeof t?g.fill(M,t):g.fill(M):g.fill(0),g},i.allocUnsafe=function(A){if("number"!=typeof A)throw new TypeError("Argument must be a number");return I(A)},i.allocUnsafeSlow=function(A){if("number"!=typeof A)throw new TypeError("Argument must be a number");return g.SlowBuffer(A)}},function(A,M,t){"use strict";(function(M,g,I){var e=t(31);function i(A){var M=this;this.next=null,this.entry=null,this.finish=function(){!function(A,M,t){var g=A.entry;A.entry=null;for(;g;){var I=g.callback;M.pendingcb--,I(t),g=g.next}M.corkedRequestsFree?M.corkedRequestsFree.next=A:M.corkedRequestsFree=A}(M,A)}}A.exports=a;var T,E=!M.browser&&["v0.10","v0.9."].indexOf(M.version.slice(0,5))>-1?g:e.nextTick;a.WritableState=Q;var N=Object.create(t(25));N.inherits=t(3);var n={deprecate:t(69)},D=t(74),C=t(42).Buffer,r=I.Uint8Array||function(){};var c,o=t(75);function B(){}function Q(A,M){T=T||t(16),A=A||{};var g=M instanceof T;this.objectMode=!!A.objectMode,g&&(this.objectMode=this.objectMode||!!A.writableObjectMode);var I=A.highWaterMark,N=A.writableHighWaterMark,n=this.objectMode?16:16384;this.highWaterMark=I||0===I?I:g&&(N||0===N)?N:n,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var D=!1===A.decodeStrings;this.decodeStrings=!D,this.defaultEncoding=A.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(A){!function(A,M){var t=A._writableState,g=t.sync,I=t.writecb;if(function(A){A.writing=!1,A.writecb=null,A.length-=A.writelen,A.writelen=0}(t),M)!function(A,M,t,g,I){--M.pendingcb,t?(e.nextTick(I,g),e.nextTick(L,A,M),A._writableState.errorEmitted=!0,A.emit("error",g)):(I(g),A._writableState.errorEmitted=!0,A.emit("error",g),L(A,M))}(A,t,g,M,I);else{var i=w(t);i||t.corked||t.bufferProcessing||!t.bufferedRequest||y(A,t),g?E(s,A,t,i,I):s(A,t,i,I)}}(M,A)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function a(A){if(T=T||t(16),!(c.call(a,this)||this instanceof T))return new a(A);this._writableState=new Q(A,this),this.writable=!0,A&&("function"==typeof A.write&&(this._write=A.write),"function"==typeof A.writev&&(this._writev=A.writev),"function"==typeof A.destroy&&(this._destroy=A.destroy),"function"==typeof A.final&&(this._final=A.final)),D.call(this)}function h(A,M,t,g,I,e,i){M.writelen=g,M.writecb=i,M.writing=!0,M.sync=!0,t?A._writev(I,M.onwrite):A._write(I,e,M.onwrite),M.sync=!1}function s(A,M,t,g){t||function(A,M){0===M.length&&M.needDrain&&(M.needDrain=!1,A.emit("drain"))}(A,M),M.pendingcb--,g(),L(A,M)}function y(A,M){M.bufferProcessing=!0;var t=M.bufferedRequest;if(A._writev&&t&&t.next){var g=M.bufferedRequestCount,I=new Array(g),e=M.corkedRequestsFree;e.entry=t;for(var T=0,E=!0;t;)I[T]=t,t.isBuf||(E=!1),t=t.next,T+=1;I.allBuffers=E,h(A,M,!0,M.length,I,"",e.finish),M.pendingcb++,M.lastBufferedRequest=null,e.next?(M.corkedRequestsFree=e.next,e.next=null):M.corkedRequestsFree=new i(M),M.bufferedRequestCount=0}else{for(;t;){var N=t.chunk,n=t.encoding,D=t.callback;if(h(A,M,!1,M.objectMode?1:N.length,N,n,D),t=t.next,M.bufferedRequestCount--,M.writing)break}null===t&&(M.lastBufferedRequest=null)}M.bufferedRequest=t,M.bufferProcessing=!1}function w(A){return A.ending&&0===A.length&&null===A.bufferedRequest&&!A.finished&&!A.writing}function j(A,M){A._final((function(t){M.pendingcb--,t&&A.emit("error",t),M.prefinished=!0,A.emit("prefinish"),L(A,M)}))}function L(A,M){var t=w(M);return t&&(!function(A,M){M.prefinished||M.finalCalled||("function"==typeof A._final?(M.pendingcb++,M.finalCalled=!0,e.nextTick(j,A,M)):(M.prefinished=!0,A.emit("prefinish")))}(A,M),0===M.pendingcb&&(M.finished=!0,A.emit("finish"))),t}N.inherits(a,D),Q.prototype.getBuffer=function(){for(var A=this.bufferedRequest,M=[];A;)M.push(A),A=A.next;return M},function(){try{Object.defineProperty(Q.prototype,"buffer",{get:n.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(A){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(a,Symbol.hasInstance,{value:function(A){return!!c.call(this,A)||this===a&&(A&&A._writableState instanceof Q)}})):c=function(A){return A instanceof this},a.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},a.prototype.write=function(A,M,t){var g,I=this._writableState,i=!1,T=!I.objectMode&&(g=A,C.isBuffer(g)||g instanceof r);return T&&!C.isBuffer(A)&&(A=function(A){return C.from(A)}(A)),"function"==typeof M&&(t=M,M=null),T?M="buffer":M||(M=I.defaultEncoding),"function"!=typeof t&&(t=B),I.ended?function(A,M){var t=new Error("write after end");A.emit("error",t),e.nextTick(M,t)}(this,t):(T||function(A,M,t,g){var I=!0,i=!1;return null===t?i=new TypeError("May not write null values to stream"):"string"==typeof t||void 0===t||M.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i&&(A.emit("error",i),e.nextTick(g,i),I=!1),I}(this,I,A,t))&&(I.pendingcb++,i=function(A,M,t,g,I,e){if(!t){var i=function(A,M,t){A.objectMode||!1===A.decodeStrings||"string"!=typeof M||(M=C.from(M,t));return M}(M,g,I);g!==i&&(t=!0,I="buffer",g=i)}var T=M.objectMode?1:g.length;M.length+=T;var E=M.length<M.highWaterMark;E||(M.needDrain=!0);if(M.writing||M.corked){var N=M.lastBufferedRequest;M.lastBufferedRequest={chunk:g,encoding:I,isBuf:t,callback:e,next:null},N?N.next=M.lastBufferedRequest:M.bufferedRequest=M.lastBufferedRequest,M.bufferedRequestCount+=1}else h(A,M,!1,T,g,I,e);return E}(this,I,T,A,M,t)),i},a.prototype.cork=function(){this._writableState.corked++},a.prototype.uncork=function(){var A=this._writableState;A.corked&&(A.corked--,A.writing||A.corked||A.finished||A.bufferProcessing||!A.bufferedRequest||y(this,A))},a.prototype.setDefaultEncoding=function(A){if("string"==typeof A&&(A=A.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((A+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+A);return this._writableState.defaultEncoding=A,this},Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),a.prototype._write=function(A,M,t){t(new Error("_write() is not implemented"))},a.prototype._writev=null,a.prototype.end=function(A,M,t){var g=this._writableState;"function"==typeof A?(t=A,A=null,M=null):"function"==typeof M&&(t=M,M=null),null!=A&&this.write(A,M),g.corked&&(g.corked=1,this.uncork()),g.ending||g.finished||function(A,M,t){M.ending=!0,L(A,M),t&&(M.finished?e.nextTick(t):A.once("finish",t));M.ended=!0,A.writable=!1}(this,g,t)},Object.defineProperty(a.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(A){this._writableState&&(this._writableState.destroyed=A)}}),a.prototype.destroy=o.destroy,a.prototype._undestroy=o.undestroy,a.prototype._destroy=function(A,M){this.end(),M(A)}}).call(this,t(8),t(139).setImmediate,t(10))},function(A,M,t){"use strict";var g=t(11);function I(A){this.options=A,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}A.exports=I,I.prototype._init=function(){},I.prototype.update=function(A){return 0===A.length?[]:"decrypt"===this.type?this._updateDecrypt(A):this._updateEncrypt(A)},I.prototype._buffer=function(A,M){for(var t=Math.min(this.buffer.length-this.bufferOff,A.length-M),g=0;g<t;g++)this.buffer[this.bufferOff+g]=A[M+g];return this.bufferOff+=t,t},I.prototype._flushBuffer=function(A,M){return this._update(this.buffer,0,A,M),this.bufferOff=0,this.blockSize},I.prototype._updateEncrypt=function(A){var M=0,t=0,g=(this.bufferOff+A.length)/this.blockSize|0,I=new Array(g*this.blockSize);0!==this.bufferOff&&(M+=this._buffer(A,M),this.bufferOff===this.buffer.length&&(t+=this._flushBuffer(I,t)));for(var e=A.length-(A.length-M)%this.blockSize;M<e;M+=this.blockSize)this._update(A,M,I,t),t+=this.blockSize;for(;M<A.length;M++,this.bufferOff++)this.buffer[this.bufferOff]=A[M];return I},I.prototype._updateDecrypt=function(A){for(var M=0,t=0,g=Math.ceil((this.bufferOff+A.length)/this.blockSize)-1,I=new Array(g*this.blockSize);g>0;g--)M+=this._buffer(A,M),t+=this._flushBuffer(I,t);return M+=this._buffer(A,M),I},I.prototype.final=function(A){var M,t;return A&&(M=this.update(A)),t="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),M?M.concat(t):t},I.prototype._pad=function(A,M){if(0===M)return!1;for(;M<A.length;)A[M++]=0;return!0},I.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var A=new Array(this.blockSize);return this._update(this.buffer,0,A,0),A},I.prototype._unpad=function(A){return A},I.prototype._finalDecrypt=function(){g.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var A=new Array(this.blockSize);return this._flushBuffer(A,0),this._unpad(A)}},function(A,M,t){var g=t(154),I=t(162),e=t(89);M.createCipher=M.Cipher=g.createCipher,M.createCipheriv=M.Cipheriv=g.createCipheriv,M.createDecipher=M.Decipher=I.createDecipher,M.createDecipheriv=M.Decipheriv=I.createDecipheriv,M.listCiphers=M.getCiphers=function(){return Object.keys(e)}},function(A,M,t){var g={ECB:t(155),CBC:t(156),CFB:t(157),CFB8:t(158),CFB1:t(159),OFB:t(160),CTR:t(87),GCM:t(87)},I=t(89);for(var e in I)I[e].module=g[I[e].mode];A.exports=I},function(A,M,t){var g;function I(A){this.rand=A}if(A.exports=function(A){return g||(g=new I(null)),g.generate(A)},A.exports.Rand=I,I.prototype.generate=function(A){return this._rand(A)},I.prototype._rand=function(A){if(this.rand.getBytes)return this.rand.getBytes(A);for(var M=new Uint8Array(A),t=0;t<M.length;t++)M[t]=this.rand.getByte();return M},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?I.prototype._rand=function(A){var M=new Uint8Array(A);return self.crypto.getRandomValues(M),M}:self.msCrypto&&self.msCrypto.getRandomValues?I.prototype._rand=function(A){var M=new Uint8Array(A);return self.msCrypto.getRandomValues(M),M}:"object"==typeof window&&(I.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var e=t(166);if("function"!=typeof e.randomBytes)throw new Error("Not supported");I.prototype._rand=function(A){return e.randomBytes(A)}}catch(A){}},function(A,M,t){(function(M){var g=t(49),I=t(18);function e(A){var M,t=A.modulus.byteLength();do{M=new g(I(t))}while(M.cmp(A.modulus)>=0||!M.umod(A.prime1)||!M.umod(A.prime2));return M}function i(A,t){var I=function(A){var M=e(A);return{blinder:M.toRed(g.mont(A.modulus)).redPow(new g(A.publicExponent)).fromRed(),unblinder:M.invm(A.modulus)}}(t),i=t.modulus.byteLength(),T=new g(A).mul(I.blinder).umod(t.modulus),E=T.toRed(g.mont(t.prime1)),N=T.toRed(g.mont(t.prime2)),n=t.coefficient,D=t.prime1,C=t.prime2,r=E.redPow(t.exponent1).fromRed(),c=N.redPow(t.exponent2).fromRed(),o=r.isub(c).imul(n).umod(D).imul(C);return c.iadd(o).imul(I.unblinder).umod(t.modulus).toArrayLike(M,"be",i)}i.getr=e,A.exports=i}).call(this,t(9).Buffer)},function(A,M,t){(function(A){!function(A,M){"use strict";function g(A,M){if(!A)throw new Error(M||"Assertion failed")}function I(A,M){A.super_=M;var t=function(){};t.prototype=M.prototype,A.prototype=new t,A.prototype.constructor=A}function e(A,M,t){if(e.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,null!==A&&("le"!==M&&"be"!==M||(t=M,M=10),this._init(A||0,M||10,t||"be"))}var i;"object"==typeof A?A.exports=e:M.BN=e,e.BN=e,e.wordSize=26;try{i=t(171).Buffer}catch(A){}function T(A,M,t){for(var I=0,e=Math.min(A.length,t),i=0,T=M;T<e;T++){var E,N=A.charCodeAt(T)-48;I<<=4,I|=E=N>=49&&N<=54?N-49+10:N>=17&&N<=22?N-17+10:N,i|=E}return g(!(240&i),"Invalid character in "+A),I}function E(A,M,t,I){for(var e=0,i=0,T=Math.min(A.length,t),E=M;E<T;E++){var N=A.charCodeAt(E)-48;e*=I,i=N>=49?N-49+10:N>=17?N-17+10:N,g(N>=0&&i<I,"Invalid character"),e+=i}return e}function N(A,M){A.words=M.words,A.length=M.length,A.negative=M.negative,A.red=M.red}if(e.isBN=function(A){return A instanceof e||null!==A&&"object"==typeof A&&A.constructor.wordSize===e.wordSize&&Array.isArray(A.words)},e.max=function(A,M){return A.cmp(M)>0?A:M},e.min=function(A,M){return A.cmp(M)<0?A:M},e.prototype._init=function(A,M,t){if("number"==typeof A)return this._initNumber(A,M,t);if("object"==typeof A)return this._initArray(A,M,t);"hex"===M&&(M=16),g(M===(0|M)&&M>=2&&M<=36);var I=0;"-"===(A=A.toString().replace(/\s+/g,""))[0]&&I++,16===M?this._parseHex(A,I):this._parseBase(A,M,I),"-"===A[0]&&(this.negative=1),this._strip(),"le"===t&&this._initArray(this.toArray(),M,t)},e.prototype._initNumber=function(A,M,t){A<0&&(this.negative=1,A=-A),A<67108864?(this.words=[67108863&A],this.length=1):A<4503599627370496?(this.words=[67108863&A,A/67108864&67108863],this.length=2):(g(A<9007199254740992),this.words=[67108863&A,A/67108864&67108863,1],this.length=3),"le"===t&&this._initArray(this.toArray(),M,t)},e.prototype._initArray=function(A,M,t){if(g("number"==typeof A.length),A.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(A.length/3),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var e,i,T=0;if("be"===t)for(I=A.length-1,e=0;I>=0;I-=3)i=A[I]|A[I-1]<<8|A[I-2]<<16,this.words[e]|=i<<T&67108863,this.words[e+1]=i>>>26-T&67108863,(T+=24)>=26&&(T-=26,e++);else if("le"===t)for(I=0,e=0;I<A.length;I+=3)i=A[I]|A[I+1]<<8|A[I+2]<<16,this.words[e]|=i<<T&67108863,this.words[e+1]=i>>>26-T&67108863,(T+=24)>=26&&(T-=26,e++);return this._strip()},e.prototype._parseHex=function(A,M){this.length=Math.ceil((A.length-M)/6),this.words=new Array(this.length);for(var t=0;t<this.length;t++)this.words[t]=0;var g,I,e=0;for(t=A.length-6,g=0;t>=M;t-=6)I=T(A,t,t+6),this.words[g]|=I<<e&67108863,this.words[g+1]|=I>>>26-e&4194303,(e+=24)>=26&&(e-=26,g++);t+6!==M&&(I=T(A,M,t+6),this.words[g]|=I<<e&67108863,this.words[g+1]|=I>>>26-e&4194303),this._strip()},e.prototype._parseBase=function(A,M,t){this.words=[0],this.length=1;for(var g=0,I=1;I<=67108863;I*=M)g++;g--,I=I/M|0;for(var e=A.length-t,i=e%g,T=Math.min(e,e-i)+t,N=0,n=t;n<T;n+=g)N=E(A,n,n+g,M),this.imuln(I),this.words[0]+N<67108864?this.words[0]+=N:this._iaddn(N);if(0!==i){var D=1;for(N=E(A,n,A.length,M),n=0;n<i;n++)D*=M;this.imuln(D),this.words[0]+N<67108864?this.words[0]+=N:this._iaddn(N)}},e.prototype.copy=function(A){A.words=new Array(this.length);for(var M=0;M<this.length;M++)A.words[M]=this.words[M];A.length=this.length,A.negative=this.negative,A.red=this.red},e.prototype._move=function(A){N(A,this)},e.prototype.clone=function(){var A=new e(null);return this.copy(A),A},e.prototype._expand=function(A){for(;this.length<A;)this.words[this.length++]=0;return this},e.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},e.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{e.prototype[Symbol.for("nodejs.util.inspect.custom")]=n}catch(A){e.prototype.inspect=n}else e.prototype.inspect=n;function n(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var D=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],C=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],r=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];e.prototype.toString=function(A,M){var t;if(M=0|M||1,16===(A=A||10)||"hex"===A){t="";for(var I=0,e=0,i=0;i<this.length;i++){var T=this.words[i],E=(16777215&(T<<I|e)).toString(16);t=0!==(e=T>>>24-I&16777215)||i!==this.length-1?D[6-E.length]+E+t:E+t,(I+=2)>=26&&(I-=26,i--)}for(0!==e&&(t=e.toString(16)+t);t.length%M!=0;)t="0"+t;return 0!==this.negative&&(t="-"+t),t}if(A===(0|A)&&A>=2&&A<=36){var N=C[A],n=r[A];t="";var c=this.clone();for(c.negative=0;!c.isZero();){var o=c.modrn(n).toString(A);t=(c=c.idivn(n)).isZero()?o+t:D[N-o.length]+o+t}for(this.isZero()&&(t="0"+t);t.length%M!=0;)t="0"+t;return 0!==this.negative&&(t="-"+t),t}g(!1,"Base should be between 2 and 36")},e.prototype.toNumber=function(){var A=this.words[0];return 2===this.length?A+=67108864*this.words[1]:3===this.length&&1===this.words[2]?A+=4503599627370496+67108864*this.words[1]:this.length>2&&g(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-A:A},e.prototype.toJSON=function(){return this.toString(16,2)},i&&(e.prototype.toBuffer=function(A,M){return this.toArrayLike(i,A,M)}),e.prototype.toArray=function(A,M){return this.toArrayLike(Array,A,M)};function c(A,M,t){t.negative=M.negative^A.negative;var g=A.length+M.length|0;t.length=g,g=g-1|0;var I=0|A.words[0],e=0|M.words[0],i=I*e,T=67108863&i,E=i/67108864|0;t.words[0]=T;for(var N=1;N<g;N++){for(var n=E>>>26,D=67108863&E,C=Math.min(N,M.length-1),r=Math.max(0,N-A.length+1);r<=C;r++){var c=N-r|0;n+=(i=(I=0|A.words[c])*(e=0|M.words[r])+D)/67108864|0,D=67108863&i}t.words[N]=0|D,E=0|n}return 0!==E?t.words[N]=0|E:t.length--,t._strip()}e.prototype.toArrayLike=function(A,M,t){this._strip();var I=this.byteLength(),e=t||Math.max(1,I);g(I<=e,"byte array longer than desired length"),g(e>0,"Requested array length <= 0");var i=function(A,M){return A.allocUnsafe?A.allocUnsafe(M):new A(M)}(A,e);return this["_toArrayLike"+("le"===M?"LE":"BE")](i,I),i},e.prototype._toArrayLikeLE=function(A,M){for(var t=0,g=0,I=0,e=0;I<this.length;I++){var i=this.words[I]<<e|g;A[t++]=255&i,t<A.length&&(A[t++]=i>>8&255),t<A.length&&(A[t++]=i>>16&255),6===e?(t<A.length&&(A[t++]=i>>24&255),g=0,e=0):(g=i>>>24,e+=2)}if(t<A.length)for(A[t++]=g;t<A.length;)A[t++]=0},e.prototype._toArrayLikeBE=function(A,M){for(var t=A.length-1,g=0,I=0,e=0;I<this.length;I++){var i=this.words[I]<<e|g;A[t--]=255&i,t>=0&&(A[t--]=i>>8&255),t>=0&&(A[t--]=i>>16&255),6===e?(t>=0&&(A[t--]=i>>24&255),g=0,e=0):(g=i>>>24,e+=2)}if(t>=0)for(A[t--]=g;t>=0;)A[t--]=0},Math.clz32?e.prototype._countBits=function(A){return 32-Math.clz32(A)}:e.prototype._countBits=function(A){var M=A,t=0;return M>=4096&&(t+=13,M>>>=13),M>=64&&(t+=7,M>>>=7),M>=8&&(t+=4,M>>>=4),M>=2&&(t+=2,M>>>=2),t+M},e.prototype._zeroBits=function(A){if(0===A)return 26;var M=A,t=0;return 0==(8191&M)&&(t+=13,M>>>=13),0==(127&M)&&(t+=7,M>>>=7),0==(15&M)&&(t+=4,M>>>=4),0==(3&M)&&(t+=2,M>>>=2),0==(1&M)&&t++,t},e.prototype.bitLength=function(){var A=this.words[this.length-1],M=this._countBits(A);return 26*(this.length-1)+M},e.prototype.zeroBits=function(){if(this.isZero())return 0;for(var A=0,M=0;M<this.length;M++){var t=this._zeroBits(this.words[M]);if(A+=t,26!==t)break}return A},e.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},e.prototype.toTwos=function(A){return 0!==this.negative?this.abs().inotn(A).iaddn(1):this.clone()},e.prototype.fromTwos=function(A){return this.testn(A-1)?this.notn(A).iaddn(1).ineg():this.clone()},e.prototype.isNeg=function(){return 0!==this.negative},e.prototype.neg=function(){return this.clone().ineg()},e.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},e.prototype.iuor=function(A){for(;this.length<A.length;)this.words[this.length++]=0;for(var M=0;M<A.length;M++)this.words[M]=this.words[M]|A.words[M];return this._strip()},e.prototype.ior=function(A){return g(0==(this.negative|A.negative)),this.iuor(A)},e.prototype.or=function(A){return this.length>A.length?this.clone().ior(A):A.clone().ior(this)},e.prototype.uor=function(A){return this.length>A.length?this.clone().iuor(A):A.clone().iuor(this)},e.prototype.iuand=function(A){var M;M=this.length>A.length?A:this;for(var t=0;t<M.length;t++)this.words[t]=this.words[t]&A.words[t];return this.length=M.length,this._strip()},e.prototype.iand=function(A){return g(0==(this.negative|A.negative)),this.iuand(A)},e.prototype.and=function(A){return this.length>A.length?this.clone().iand(A):A.clone().iand(this)},e.prototype.uand=function(A){return this.length>A.length?this.clone().iuand(A):A.clone().iuand(this)},e.prototype.iuxor=function(A){var M,t;this.length>A.length?(M=this,t=A):(M